/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/PlaygamaBridge.js":
/*!*******************************!*\
  !*** ./src/PlaygamaBridge.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./src/constants.js\");\n/* harmony import */ var _common_PromiseDecorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/PromiseDecorator */ \"./src/common/PromiseDecorator.js\");\n/* harmony import */ var _modules_PlatformModule__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/PlatformModule */ \"./src/modules/PlatformModule.js\");\n/* harmony import */ var _modules_PlayerModule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/PlayerModule */ \"./src/modules/PlayerModule.js\");\n/* harmony import */ var _modules_GameModule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/GameModule */ \"./src/modules/GameModule.js\");\n/* harmony import */ var _modules_StorageModule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/StorageModule */ \"./src/modules/StorageModule.js\");\n/* harmony import */ var _modules_AdvertisementModule__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/AdvertisementModule */ \"./src/modules/AdvertisementModule.js\");\n/* harmony import */ var _modules_SocialModule__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/SocialModule */ \"./src/modules/SocialModule.js\");\n/* harmony import */ var _modules_DeviceModule__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/DeviceModule */ \"./src/modules/DeviceModule.js\");\n/* harmony import */ var _modules_LeaderboardModule__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/LeaderboardModule */ \"./src/modules/LeaderboardModule.js\");\n/* harmony import */ var _modules_PaymentsModule__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/PaymentsModule */ \"./src/modules/PaymentsModule.js\");\n/* harmony import */ var _modules_RemoteConfigModule__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/RemoteConfigModule */ \"./src/modules/RemoteConfigModule.js\");\n/* harmony import */ var _modules_ClipboardModule__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/ClipboardModule */ \"./src/modules/ClipboardModule.js\");\n/* harmony import */ var _platform_bridges_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./platform-bridges/PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _platform_bridges_VkPlatformBridge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./platform-bridges/VkPlatformBridge */ \"./src/platform-bridges/VkPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_YandexPlatformBridge__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./platform-bridges/YandexPlatformBridge */ \"./src/platform-bridges/YandexPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_CrazyGamesPlatformBridge__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./platform-bridges/CrazyGamesPlatformBridge */ \"./src/platform-bridges/CrazyGamesPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_AbsoluteGamesPlatformBridge__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./platform-bridges/AbsoluteGamesPlatformBridge */ \"./src/platform-bridges/AbsoluteGamesPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_GameDistributionPlatformBridge__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./platform-bridges/GameDistributionPlatformBridge */ \"./src/platform-bridges/GameDistributionPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_VkPlayPlatformBridge__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./platform-bridges/VkPlayPlatformBridge */ \"./src/platform-bridges/VkPlayPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_OkPlatformBridge__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./platform-bridges/OkPlatformBridge */ \"./src/platform-bridges/OkPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_PlaygamaPlatformBridge__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./platform-bridges/PlaygamaPlatformBridge */ \"./src/platform-bridges/PlaygamaPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_PlayDeckPlatformBridge__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./platform-bridges/PlayDeckPlatformBridge */ \"./src/platform-bridges/PlayDeckPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_WortalPlatformBridge__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./platform-bridges/WortalPlatformBridge */ \"./src/platform-bridges/WortalPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_TelegramPlatformBridge__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./platform-bridges/TelegramPlatformBridge */ \"./src/platform-bridges/TelegramPlatformBridge.js\");\n/* harmony import */ var _platform_bridges_Y8PlatformBridge__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./platform-bridges/Y8PlatformBridge */ \"./src/platform-bridges/Y8PlatformBridge.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _isInitialized = /*#__PURE__*/new WeakMap();\nvar _initializationPromiseDecorator = /*#__PURE__*/new WeakMap();\nvar _platformBridge = /*#__PURE__*/new WeakMap();\nvar _modules = /*#__PURE__*/new WeakMap();\nvar _createPlatformBridge = /*#__PURE__*/new WeakSet();\nvar _getPlatformId = /*#__PURE__*/new WeakSet();\nvar _getModule = /*#__PURE__*/new WeakSet();\nvar PlaygamaBridge = /*#__PURE__*/function () {\n  function PlaygamaBridge() {\n    _classCallCheck(this, PlaygamaBridge);\n    _classPrivateMethodInitSpec(this, _getModule);\n    _classPrivateMethodInitSpec(this, _getPlatformId);\n    _classPrivateMethodInitSpec(this, _createPlatformBridge);\n    _classPrivateFieldInitSpec(this, _isInitialized, {\n      writable: true,\n      value: false\n    });\n    _classPrivateFieldInitSpec(this, _initializationPromiseDecorator, {\n      writable: true,\n      value: null\n    });\n    _classPrivateFieldInitSpec(this, _platformBridge, {\n      writable: true,\n      value: null\n    });\n    _classPrivateFieldInitSpec(this, _modules, {\n      writable: true,\n      value: {}\n    });\n  }\n  _createClass(PlaygamaBridge, [{\n    key: \"version\",\n    get: function get() {\n      return \"1.16.0\";\n    }\n  }, {\n    key: \"isInitialized\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _isInitialized);\n    }\n  }, {\n    key: \"platform\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.PLATFORM);\n    }\n  }, {\n    key: \"player\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.PLAYER);\n    }\n  }, {\n    key: \"game\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.GAME);\n    }\n  }, {\n    key: \"storage\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.STORAGE);\n    }\n  }, {\n    key: \"advertisement\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.ADVERTISEMENT);\n    }\n  }, {\n    key: \"social\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.SOCIAL);\n    }\n  }, {\n    key: \"device\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.DEVICE);\n    }\n  }, {\n    key: \"leaderboard\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.LEADERBOARD);\n    }\n  }, {\n    key: \"payments\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.PAYMENTS);\n    }\n  }, {\n    key: \"remoteConfig\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.REMOTE_CONFIG);\n    }\n  }, {\n    key: \"clipboard\",\n    get: function get() {\n      return _classPrivateMethodGet(this, _getModule, _getModule2).call(this, _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.CLIPBOARD);\n    }\n  }, {\n    key: \"PLATFORM_ID\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID;\n    }\n  }, {\n    key: \"PLATFORM_MESSAGE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_MESSAGE;\n    }\n  }, {\n    key: \"MODULE_NAME\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME;\n    }\n  }, {\n    key: \"EVENT_NAME\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.EVENT_NAME;\n    }\n  }, {\n    key: \"INTERSTITIAL_STATE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.INTERSTITIAL_STATE;\n    }\n  }, {\n    key: \"REWARDED_STATE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.REWARDED_STATE;\n    }\n  }, {\n    key: \"BANNER_STATE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.BANNER_STATE;\n    }\n  }, {\n    key: \"STORAGE_TYPE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.STORAGE_TYPE;\n    }\n  }, {\n    key: \"VISIBILITY_STATE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.VISIBILITY_STATE;\n    }\n  }, {\n    key: \"DEVICE_TYPE\",\n    get: function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_0__.DEVICE_TYPE;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(options) {\n      var _this = this;\n      if (_classPrivateFieldGet(this, _isInitialized)) {\n        return Promise.resolve();\n      }\n      if (!_classPrivateFieldGet(this, _initializationPromiseDecorator)) {\n        _classPrivateFieldSet(this, _initializationPromiseDecorator, new _common_PromiseDecorator__WEBPACK_IMPORTED_MODULE_1__[\"default\"]());\n        this._options = _objectSpread({}, options);\n        _classPrivateMethodGet(this, _createPlatformBridge, _createPlatformBridge2).call(this);\n        _classPrivateFieldGet(this, _platformBridge).initialize().then(function () {\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.PLATFORM] = new _modules_PlatformModule__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.PLAYER] = new _modules_PlayerModule__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.GAME] = new _modules_GameModule__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.STORAGE] = new _modules_StorageModule__WEBPACK_IMPORTED_MODULE_5__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.ADVERTISEMENT] = new _modules_AdvertisementModule__WEBPACK_IMPORTED_MODULE_6__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.SOCIAL] = new _modules_SocialModule__WEBPACK_IMPORTED_MODULE_7__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.DEVICE] = new _modules_DeviceModule__WEBPACK_IMPORTED_MODULE_8__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.LEADERBOARD] = new _modules_LeaderboardModule__WEBPACK_IMPORTED_MODULE_9__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.PAYMENTS] = new _modules_PaymentsModule__WEBPACK_IMPORTED_MODULE_10__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.REMOTE_CONFIG] = new _modules_RemoteConfigModule__WEBPACK_IMPORTED_MODULE_11__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldGet(_this, _modules)[_constants__WEBPACK_IMPORTED_MODULE_0__.MODULE_NAME.CLIPBOARD] = new _modules_ClipboardModule__WEBPACK_IMPORTED_MODULE_12__[\"default\"](_classPrivateFieldGet(_this, _platformBridge));\n          _classPrivateFieldSet(_this, _isInitialized, true);\n          console.info(\"%c PlaygamaBridge v.\".concat(_this.version, \" initialized. \"), 'background: #01A5DA; color: white');\n          if (_classPrivateFieldGet(_this, _initializationPromiseDecorator)) {\n            _classPrivateFieldGet(_this, _initializationPromiseDecorator).resolve();\n            _classPrivateFieldSet(_this, _initializationPromiseDecorator, null);\n          }\n        });\n      }\n      return _classPrivateFieldGet(this, _initializationPromiseDecorator).promise;\n    }\n  }]);\n  return PlaygamaBridge;\n}();\nfunction _createPlatformBridge2() {\n  var platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.MOCK;\n  if (this._options && this._options.forciblySetPlatformId) {\n    platformId = _classPrivateMethodGet(this, _getPlatformId, _getPlatformId2).call(this, this._options.forciblySetPlatformId.toLowerCase());\n  } else {\n    var url = new URL(window.location.href);\n    var yandexUrl = ['y', 'a', 'n', 'd', 'e', 'x', '.', 'n', 'e', 't'].join('');\n    if (url.searchParams.has('platform_id')) {\n      platformId = _classPrivateMethodGet(this, _getPlatformId, _getPlatformId2).call(this, url.searchParams.get('platform_id').toLowerCase());\n    } else if (url.hostname.includes(yandexUrl) || url.hash.includes('yandex')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.YANDEX;\n    } else if (url.hostname.includes('crazygames.') || url.hostname.includes('1001juegos.com')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.CRAZY_GAMES;\n    } else if (url.hostname.includes('gamedistribution.com')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.GAME_DISTRIBUTION;\n    } else if (url.hostname.includes('wortal.ai')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.WORTAL;\n    } else if (url.searchParams.has('api_id') && url.searchParams.has('viewer_id') && url.searchParams.has('auth_key')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.VK;\n    } else if (url.searchParams.has('app_id') && url.searchParams.has('player_id') && url.searchParams.has('game_sid') && url.searchParams.has('auth_key')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.ABSOLUTE_GAMES;\n    } else if (url.searchParams.has('playdeck')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.PLAYDECK;\n    } else if (url.hash.includes('tgWebAppData')) {\n      platformId = _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.TELEGRAM;\n    }\n  }\n  if (!this._options || !this._options.gameId) {\n    var _url = new URL(window.location.href);\n    if (_url.searchParams.has('game_id')) {\n      if (!this._options) {\n        this._options = {};\n      }\n      this._options.gameId = _url.searchParams.get('game_id');\n    }\n  }\n  switch (platformId) {\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.VK:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_VkPlatformBridge__WEBPACK_IMPORTED_MODULE_14__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.VK]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.VK_PLAY:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_VkPlayPlatformBridge__WEBPACK_IMPORTED_MODULE_19__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.VK_PLAY]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.YANDEX:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_YandexPlatformBridge__WEBPACK_IMPORTED_MODULE_15__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.YANDEX]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.CRAZY_GAMES:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_CrazyGamesPlatformBridge__WEBPACK_IMPORTED_MODULE_16__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.CRAZY_GAMES]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.ABSOLUTE_GAMES:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_AbsoluteGamesPlatformBridge__WEBPACK_IMPORTED_MODULE_17__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.ABSOLUTE_GAMES]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.GAME_DISTRIBUTION:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_GameDistributionPlatformBridge__WEBPACK_IMPORTED_MODULE_18__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.GAME_DISTRIBUTION]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.OK:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_OkPlatformBridge__WEBPACK_IMPORTED_MODULE_20__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.OK]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.PLAYGAMA:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_PlaygamaPlatformBridge__WEBPACK_IMPORTED_MODULE_21__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.PLAYGAMA]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.WORTAL:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_WortalPlatformBridge__WEBPACK_IMPORTED_MODULE_23__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.WORTAL]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.PLAYDECK:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_PlayDeckPlatformBridge__WEBPACK_IMPORTED_MODULE_22__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.PLAYDECK]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.TELEGRAM:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_TelegramPlatformBridge__WEBPACK_IMPORTED_MODULE_24__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.TELEGRAM]));\n        break;\n      }\n    case _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.Y8:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_Y8PlatformBridge__WEBPACK_IMPORTED_MODULE_25__[\"default\"](this._options && this._options.platforms && this._options.platforms[_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.Y8]));\n        break;\n      }\n    default:\n      {\n        _classPrivateFieldSet(this, _platformBridge, new _platform_bridges_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_13__[\"default\"]());\n        break;\n      }\n  }\n}\nfunction _getPlatformId2(value) {\n  var platformIds = Object.values(_constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID);\n  for (var i = 0; i < platformIds.length; i++) {\n    if (value === platformIds[i]) {\n      return value;\n    }\n  }\n  return _constants__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID.MOCK;\n}\nfunction _getModule2(id) {\n  if (!_classPrivateFieldGet(this, _isInitialized)) {\n    console.error(_constants__WEBPACK_IMPORTED_MODULE_0__.ERROR.SDK_NOT_INITIALIZED);\n  }\n  return _classPrivateFieldGet(this, _modules)[id];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlaygamaBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/PlaygamaBridge.js?");

/***/ }),

/***/ "./src/common/PromiseDecorator.js":
/*!****************************************!*\
  !*** ./src/common/PromiseDecorator.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nvar _promise = /*#__PURE__*/new WeakMap();\nvar _resolve = /*#__PURE__*/new WeakMap();\nvar _reject = /*#__PURE__*/new WeakMap();\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\nvar PromiseDecorator = /*#__PURE__*/function () {\n  function PromiseDecorator() {\n    var _this = this;\n    _classCallCheck(this, PromiseDecorator);\n    _classPrivateFieldInitSpec(this, _promise, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _resolve, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(this, _reject, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldSet(this, _promise, new Promise(function (resolve, reject) {\n      _classPrivateFieldSet(_this, _resolve, resolve);\n      _classPrivateFieldSet(_this, _reject, reject);\n    }));\n  }\n  _createClass(PromiseDecorator, [{\n    key: \"promise\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _promise);\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(data) {\n      _classPrivateFieldGet(this, _resolve).call(this, data);\n    }\n  }, {\n    key: \"reject\",\n    value: function reject(error) {\n      _classPrivateFieldGet(this, _reject).call(this, error);\n    }\n  }]);\n  return PromiseDecorator;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PromiseDecorator);\n\n//# sourceURL=webpack://playgama-bridge/./src/common/PromiseDecorator.js?");

/***/ }),

/***/ "./src/common/Timer.js":
/*!*****************************!*\
  !*** ./src/common/Timer.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EVENT_NAME: () => (/* binding */ EVENT_NAME),\n/* harmony export */   STATE: () => (/* binding */ STATE),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-lite */ \"./node_modules/event-lite/event-lite.js\");\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_lite__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar EVENT_NAME = {\n  STATE_CHANGED: 'state_changed',\n  TIME_LEFT_CHANGED: 'time_left_changed'\n};\nvar STATE = {\n  CREATED: 'created',\n  STARTED: 'started',\n  STOPPED: 'stopped',\n  COMPLETED: 'completed'\n};\nvar _time = /*#__PURE__*/new WeakMap();\nvar _timeLeft = /*#__PURE__*/new WeakMap();\nvar _state = /*#__PURE__*/new WeakMap();\nvar _intervalId = /*#__PURE__*/new WeakMap();\nvar _setState = /*#__PURE__*/new WeakSet();\nvar _clear = /*#__PURE__*/new WeakSet();\nvar Timer = /*#__PURE__*/function () {\n  function Timer(time) {\n    _classCallCheck(this, Timer);\n    _classPrivateMethodInitSpec(this, _clear);\n    _classPrivateMethodInitSpec(this, _setState);\n    _classPrivateFieldInitSpec(this, _time, {\n      writable: true,\n      value: 0\n    });\n    _classPrivateFieldInitSpec(this, _timeLeft, {\n      writable: true,\n      value: 0\n    });\n    _classPrivateFieldInitSpec(this, _state, {\n      writable: true,\n      value: STATE.CREATED\n    });\n    _classPrivateFieldInitSpec(this, _intervalId, {\n      writable: true,\n      value: 0\n    });\n    _classPrivateFieldSet(this, _time, time);\n  }\n  _createClass(Timer, [{\n    key: \"state\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _state);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n      if (_classPrivateFieldGet(this, _state) === STATE.CREATED || _classPrivateFieldGet(this, _state) === STATE.COMPLETED) {\n        _classPrivateFieldSet(this, _timeLeft, _classPrivateFieldGet(this, _time));\n        _classPrivateMethodGet(this, _setState, _setState2).call(this, STATE.STARTED);\n        _classPrivateFieldSet(this, _intervalId, setInterval(function () {\n          _classPrivateFieldSet(_this, _timeLeft, _classPrivateFieldGet(_this, _timeLeft) - 1);\n          _this.emit(EVENT_NAME.TIME_LEFT_CHANGED, _classPrivateFieldGet(_this, _timeLeft));\n          if (_classPrivateFieldGet(_this, _timeLeft) <= 0) {\n            _classPrivateMethodGet(_this, _clear, _clear2).call(_this);\n            _classPrivateMethodGet(_this, _setState, _setState2).call(_this, STATE.COMPLETED);\n          }\n        }, 1000));\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      _classPrivateMethodGet(this, _clear, _clear2).call(this);\n      _classPrivateMethodGet(this, _setState, _setState2).call(this, STATE.STOPPED);\n    }\n  }]);\n  return Timer;\n}();\nfunction _setState2(value) {\n  _classPrivateFieldSet(this, _state, value);\n  this.emit(EVENT_NAME.STATE_CHANGED, _classPrivateFieldGet(this, _state));\n}\nfunction _clear2() {\n  _classPrivateFieldSet(this, _timeLeft, 0);\n  clearInterval(_classPrivateFieldGet(this, _intervalId));\n}\nevent_lite__WEBPACK_IMPORTED_MODULE_0___default().mixin(Timer.prototype);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Timer);\n\n//# sourceURL=webpack://playgama-bridge/./src/common/Timer.js?");

/***/ }),

/***/ "./src/common/utils.js":
/*!*****************************!*\
  !*** ./src/common/utils.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addJavaScript: () => (/* binding */ addJavaScript),\n/* harmony export */   waitFor: () => (/* binding */ waitFor)\n/* harmony export */ });\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\nvar addJavaScript = function addJavaScript(src) {\n  return new Promise(function (resolve) {\n    var script = document.createElement('script');\n    script.src = src;\n    script.addEventListener('load', resolve);\n    document.head.appendChild(script);\n  });\n};\nvar waitFor = function waitFor() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (args.length <= 0) {\n    return Promise.resolve();\n  }\n  return new Promise(function (resolve) {\n    var checkInterval = setInterval(function () {\n      var parent = window;\n      for (var i = 0; i < args.length; i++) {\n        var currentObject = parent[args[i]];\n        if (!currentObject) {\n          return;\n        }\n        parent = currentObject;\n      }\n      resolve();\n      clearInterval(checkInterval);\n    }, 100);\n  });\n};\n\n//# sourceURL=webpack://playgama-bridge/./src/common/utils.js?");

/***/ }),

/***/ "./src/constants.js":
/*!**************************!*\
  !*** ./src/constants.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_NAME: () => (/* binding */ ACTION_NAME),\n/* harmony export */   BANNER_STATE: () => (/* binding */ BANNER_STATE),\n/* harmony export */   DEVICE_TYPE: () => (/* binding */ DEVICE_TYPE),\n/* harmony export */   ERROR: () => (/* binding */ ERROR),\n/* harmony export */   EVENT_NAME: () => (/* binding */ EVENT_NAME),\n/* harmony export */   INTERSTITIAL_STATE: () => (/* binding */ INTERSTITIAL_STATE),\n/* harmony export */   MODULE_NAME: () => (/* binding */ MODULE_NAME),\n/* harmony export */   PLATFORM_ID: () => (/* binding */ PLATFORM_ID),\n/* harmony export */   PLATFORM_MESSAGE: () => (/* binding */ PLATFORM_MESSAGE),\n/* harmony export */   REWARDED_STATE: () => (/* binding */ REWARDED_STATE),\n/* harmony export */   STORAGE_TYPE: () => (/* binding */ STORAGE_TYPE),\n/* harmony export */   VISIBILITY_STATE: () => (/* binding */ VISIBILITY_STATE)\n/* harmony export */ });\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\nvar PLATFORM_ID = {\n  VK: 'vk',\n  VK_PLAY: 'vk_play',\n  OK: 'ok',\n  YANDEX: 'yandex',\n  CRAZY_GAMES: 'crazy_games',\n  ABSOLUTE_GAMES: 'absolute_games',\n  GAME_DISTRIBUTION: 'game_distribution',\n  PLAYGAMA: 'playgama',\n  WORTAL: 'wortal',\n  PLAYDECK: 'playdeck',\n  TELEGRAM: 'telegram',\n  Y8: 'y8',\n  MOCK: 'mock'\n};\nvar MODULE_NAME = {\n  PLATFORM: 'platform',\n  PLAYER: 'player',\n  GAME: 'game',\n  STORAGE: 'storage',\n  ADVERTISEMENT: 'advertisement',\n  SOCIAL: 'social',\n  DEVICE: 'device',\n  LEADERBOARD: 'leaderboard',\n  PAYMENTS: 'payments',\n  REMOTE_CONFIG: 'remote_config',\n  CLIPBOARD: 'clipboard'\n};\nvar EVENT_NAME = {\n  INTERSTITIAL_STATE_CHANGED: 'interstitial_state_changed',\n  REWARDED_STATE_CHANGED: 'rewarded_state_changed',\n  BANNER_STATE_CHANGED: 'banner_state_changed',\n  VISIBILITY_STATE_CHANGED: 'visibility_state_changed'\n};\nvar VISIBILITY_STATE = {\n  VISIBLE: 'visible',\n  HIDDEN: 'hidden'\n};\nvar INTERSTITIAL_STATE = {\n  LOADING: 'loading',\n  OPENED: 'opened',\n  CLOSED: 'closed',\n  FAILED: 'failed'\n};\nvar REWARDED_STATE = {\n  LOADING: 'loading',\n  OPENED: 'opened',\n  CLOSED: 'closed',\n  FAILED: 'failed',\n  REWARDED: 'rewarded'\n};\nvar BANNER_STATE = {\n  LOADING: 'loading',\n  SHOWN: 'shown',\n  HIDDEN: 'hidden',\n  FAILED: 'failed'\n};\nvar STORAGE_TYPE = {\n  LOCAL_STORAGE: 'local_storage',\n  PLATFORM_INTERNAL: 'platform_internal'\n};\nvar DEVICE_TYPE = {\n  DESKTOP: 'desktop',\n  MOBILE: 'mobile',\n  TABLET: 'tablet',\n  TV: 'tv'\n};\nvar PLATFORM_MESSAGE = {\n  GAME_READY: 'game_ready',\n  IN_GAME_LOADING_STARTED: 'in_game_loading_started',\n  IN_GAME_LOADING_STOPPED: 'in_game_loading_stopped',\n  GAMEPLAY_STARTED: 'gameplay_started',\n  GAMEPLAY_STOPPED: 'gameplay_stopped',\n  PLAYER_GOT_ACHIEVEMENT: 'player_got_achievement',\n  GAME_OVER: 'game_over'\n};\nvar ACTION_NAME = {\n  INITIALIZE: 'initialize',\n  AUTHORIZE_PLAYER: 'authorize_player',\n  SHARE: 'share',\n  INVITE_FRIENDS: 'invite_friends',\n  JOIN_COMMUNITY: 'join_community',\n  CREATE_POST: 'create_post',\n  ADD_TO_HOME_SCREEN: 'add_to_home_screen',\n  ADD_TO_FAVORITES: 'add_to_favorites',\n  RATE: 'rate',\n  SET_LEADERBOARD_SCORE: 'set_leaderboard_score',\n  GET_LEADERBOARD_SCORE: 'get_leaderboard_score',\n  GET_LEADERBOARD_ENTRIES: 'get_leaderboard_entries',\n  GET_PURCHASES: 'get_purchases',\n  GET_CATALOG: 'get_catalog',\n  PURCHASE: 'purchase',\n  CONSUME_PURCHASE: 'consume_purchase',\n  GET_REMOTE_CONFIG: 'get_remote_config',\n  GET_STORAGE_DATA: 'get_storage_data',\n  SHOW_LEADERBOARD_NATIVE_POPUP: 'show_leaderboard_native_popup',\n  CLIPBOARD_WRITE: 'clipboard_write',\n  ADBLOCK_DETECT: 'adblock_detect'\n};\nvar ERROR = {\n  SDK_NOT_INITIALIZED: {\n    message: 'Before using the SDK you must initialize it'\n  },\n  STORAGE_NOT_SUPPORTED: {\n    message: 'Storage not supported'\n  },\n  STORAGE_NOT_AVAILABLE: {\n    message: 'Storage not available'\n  },\n  GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED: {\n    message: 'GameDistribution Game ID is undefined'\n  },\n  VK_PLAY_GAME_ID_IS_UNDEFINED: {\n    message: 'VK Play Game ID is undefined'\n  },\n  Y8_GAME_ID_IS_UNDEFINED: {\n    message: 'Y8 Game ID is undefined'\n  },\n  OK_GAME_PARAMS_NOT_FOUND: {\n    message: 'OK Game params are not found'\n  },\n  INVITE_FRIENDS_MESSAGE_LENGTH_ERROR: {\n    message: 'Message is too long'\n  }\n};\n\n//# sourceURL=webpack://playgama-bridge/./src/constants.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _PlaygamaBridge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaygamaBridge */ \"./src/PlaygamaBridge.js\");\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nwindow.bridge = new _PlaygamaBridge__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nwindow.playgamaBridge = window.bridge;\n\n//# sourceURL=webpack://playgama-bridge/./src/index.js?");

/***/ }),

/***/ "./src/modules/AdvertisementModule.js":
/*!********************************************!*\
  !*** ./src/modules/AdvertisementModule.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-lite */ \"./node_modules/event-lite/event-lite.js\");\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_lite__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_Timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Timer */ \"./src/common/Timer.js\");\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nvar _interstitialTimer = /*#__PURE__*/new WeakMap();\nvar _minimumDelayBetweenInterstitial = /*#__PURE__*/new WeakMap();\nvar _startInterstitialTimer = /*#__PURE__*/new WeakSet();\nvar _hasAdvertisementInProgress = /*#__PURE__*/new WeakSet();\nvar AdvertisementModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(AdvertisementModule, _ModuleBase);\n  var _super = _createSuper(AdvertisementModule);\n  function AdvertisementModule(platformBridge) {\n    var _this;\n    _classCallCheck(this, AdvertisementModule);\n    _this = _super.call(this, platformBridge);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _hasAdvertisementInProgress);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _startInterstitialTimer);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _interstitialTimer, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _minimumDelayBetweenInterstitial, {\n      writable: true,\n      value: 60\n    });\n    _this._platformBridge.on(_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_NAME.INTERSTITIAL_STATE_CHANGED, function (state) {\n      if (state === _constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.CLOSED) {\n        if (_classPrivateFieldGet(_assertThisInitialized(_this), _minimumDelayBetweenInterstitial) > 0) {\n          _classPrivateMethodGet(_assertThisInitialized(_this), _startInterstitialTimer, _startInterstitialTimer2).call(_assertThisInitialized(_this));\n        }\n      }\n      _this.emit(_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_NAME.INTERSTITIAL_STATE_CHANGED, state);\n    });\n    _this._platformBridge.on(_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_NAME.REWARDED_STATE_CHANGED, function (state) {\n      return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_NAME.REWARDED_STATE_CHANGED, state);\n    });\n    _this._platformBridge.on(_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_NAME.BANNER_STATE_CHANGED, function (state) {\n      return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_3__.EVENT_NAME.BANNER_STATE_CHANGED, state);\n    });\n    return _this;\n  }\n  _createClass(AdvertisementModule, [{\n    key: \"isBannerSupported\",\n    get: function get() {\n      return this._platformBridge.isBannerSupported;\n    }\n  }, {\n    key: \"bannerState\",\n    get: function get() {\n      return this._platformBridge.bannerState;\n    }\n  }, {\n    key: \"interstitialState\",\n    get: function get() {\n      return this._platformBridge.interstitialState;\n    }\n  }, {\n    key: \"rewardedState\",\n    get: function get() {\n      return this._platformBridge.rewardedState;\n    }\n  }, {\n    key: \"minimumDelayBetweenInterstitial\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _minimumDelayBetweenInterstitial);\n    }\n  }, {\n    key: \"setMinimumDelayBetweenInterstitial\",\n    value: function setMinimumDelayBetweenInterstitial(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (typeof platformDependedOptions !== 'undefined') {\n          this.setMinimumDelayBetweenInterstitial(platformDependedOptions);\n          return;\n        }\n      }\n      var optionsType = _typeof(options);\n      var delay = _classPrivateFieldGet(this, _minimumDelayBetweenInterstitial);\n      switch (optionsType) {\n        case 'number':\n          {\n            delay = options;\n            break;\n          }\n        case 'string':\n          {\n            delay = parseInt(options, 10);\n            if (Number.isNaN(delay)) {\n              return;\n            }\n            break;\n          }\n        default:\n          {\n            return;\n          }\n      }\n      _classPrivateFieldSet(this, _minimumDelayBetweenInterstitial, delay);\n      if (_classPrivateFieldGet(this, _interstitialTimer)) {\n        _classPrivateFieldGet(this, _interstitialTimer).stop();\n        _classPrivateMethodGet(this, _startInterstitialTimer, _startInterstitialTimer2).call(this);\n      }\n    }\n  }, {\n    key: \"showBanner\",\n    value: function showBanner(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          this.showBanner(platformDependedOptions);\n          return;\n        }\n      }\n      if (this.bannerState === _constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.LOADING || this.bannerState === _constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.SHOWN) {\n        return;\n      }\n      this._platformBridge._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.LOADING);\n      if (!this.isBannerSupported) {\n        this._platformBridge._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.FAILED);\n        return;\n      }\n      this._platformBridge.showBanner(options);\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      if (this.bannerState === _constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.LOADING || this.bannerState === _constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.HIDDEN) {\n        return;\n      }\n      if (!this.isBannerSupported) {\n        return;\n      }\n      this._platformBridge.hideBanner();\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial(options) {\n      // eslint-disable-next-line no-console\n      console.log('AdvertisementModule');\n      if (_classPrivateMethodGet(this, _hasAdvertisementInProgress, _hasAdvertisementInProgress2).call(this)) {\n        return;\n      }\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          this.showInterstitial(platformDependedOptions);\n          return;\n        }\n      }\n      var ignoreDelay = false;\n      if (options && typeof options.ignoreDelay === 'boolean') {\n        ignoreDelay = options.ignoreDelay;\n      }\n      this._platformBridge._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.LOADING);\n      if (_classPrivateFieldGet(this, _interstitialTimer) && _classPrivateFieldGet(this, _interstitialTimer).state !== _common_Timer__WEBPACK_IMPORTED_MODULE_1__.STATE.COMPLETED && !ignoreDelay) {\n        this._platformBridge._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.FAILED);\n        return;\n      }\n      this._platformBridge.showInterstitial(options);\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded(options) {\n      if (_classPrivateMethodGet(this, _hasAdvertisementInProgress, _hasAdvertisementInProgress2).call(this)) {\n        return;\n      }\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          this.showRewarded(platformDependedOptions);\n          return;\n        }\n      }\n      this._platformBridge._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.LOADING);\n      this._platformBridge.showRewarded(options);\n    }\n  }, {\n    key: \"checkAdBlock\",\n    value: function checkAdBlock() {\n      return this._platformBridge.checkAdBlock();\n    }\n  }]);\n  return AdvertisementModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nfunction _startInterstitialTimer2() {\n  _classPrivateFieldSet(this, _interstitialTimer, new _common_Timer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_classPrivateFieldGet(this, _minimumDelayBetweenInterstitial)));\n  _classPrivateFieldGet(this, _interstitialTimer).start();\n}\nfunction _hasAdvertisementInProgress2() {\n  if (this.interstitialState === _constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.LOADING || this.interstitialState === _constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.OPENED) {\n    return true;\n  }\n  if ([_constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.LOADING, _constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.OPENED, _constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.REWARDED].includes(this.rewardedState)) {\n    return true;\n  }\n  return false;\n}\nevent_lite__WEBPACK_IMPORTED_MODULE_0___default().mixin(AdvertisementModule.prototype);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdvertisementModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/AdvertisementModule.js?");

/***/ }),

/***/ "./src/modules/ClipboardModule.js":
/*!****************************************!*\
  !*** ./src/modules/ClipboardModule.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar ClipboardModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(ClipboardModule, _ModuleBase);\n  var _super = _createSuper(ClipboardModule);\n  function ClipboardModule() {\n    _classCallCheck(this, ClipboardModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ClipboardModule, [{\n    key: \"isSupported\",\n    get: function get() {\n      return this._platformBridge.isClipboardSupported;\n    }\n  }, {\n    key: \"read\",\n    value: function read() {\n      return this._platformBridge.clipboardRead();\n    }\n  }, {\n    key: \"write\",\n    value: function write(text) {\n      return this._platformBridge.clipboardWrite(text);\n    }\n  }]);\n  return ClipboardModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClipboardModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/ClipboardModule.js?");

/***/ }),

/***/ "./src/modules/DeviceModule.js":
/*!*************************************!*\
  !*** ./src/modules/DeviceModule.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar DeviceModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(DeviceModule, _ModuleBase);\n  var _super = _createSuper(DeviceModule);\n  function DeviceModule() {\n    _classCallCheck(this, DeviceModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(DeviceModule, [{\n    key: \"type\",\n    get: function get() {\n      return this._platformBridge.deviceType;\n    }\n  }]);\n  return DeviceModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeviceModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/DeviceModule.js?");

/***/ }),

/***/ "./src/modules/GameModule.js":
/*!***********************************!*\
  !*** ./src/modules/GameModule.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-lite */ \"./node_modules/event-lite/event-lite.js\");\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_lite__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar GameModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(GameModule, _ModuleBase);\n  var _super = _createSuper(GameModule);\n  function GameModule(platformBridge) {\n    var _this;\n    _classCallCheck(this, GameModule);\n    _this = _super.call(this, platformBridge);\n    _this._platformBridge.on(_constants__WEBPACK_IMPORTED_MODULE_2__.EVENT_NAME.VISIBILITY_STATE_CHANGED, function (state) {\n      return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_2__.EVENT_NAME.VISIBILITY_STATE_CHANGED, state);\n    });\n    return _this;\n  }\n  _createClass(GameModule, [{\n    key: \"visibilityState\",\n    get: function get() {\n      return this._platformBridge.visibilityState;\n    }\n  }]);\n  return GameModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nevent_lite__WEBPACK_IMPORTED_MODULE_0___default().mixin(GameModule.prototype);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/GameModule.js?");

/***/ }),

/***/ "./src/modules/LeaderboardModule.js":
/*!******************************************!*\
  !*** ./src/modules/LeaderboardModule.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar LeaderboardModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(LeaderboardModule, _ModuleBase);\n  var _super = _createSuper(LeaderboardModule);\n  function LeaderboardModule() {\n    _classCallCheck(this, LeaderboardModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LeaderboardModule, [{\n    key: \"isSupported\",\n    get: function get() {\n      return this._platformBridge.isLeaderboardSupported;\n    }\n  }, {\n    key: \"isNativePopupSupported\",\n    get: function get() {\n      return this._platformBridge.isLeaderboardNativePopupSupported;\n    }\n  }, {\n    key: \"isMultipleBoardsSupported\",\n    get: function get() {\n      return this._platformBridge.isLeaderboardMultipleBoardsSupported;\n    }\n  }, {\n    key: \"isSetScoreSupported\",\n    get: function get() {\n      return this._platformBridge.isLeaderboardSetScoreSupported;\n    }\n  }, {\n    key: \"isGetScoreSupported\",\n    get: function get() {\n      return this._platformBridge.isLeaderboardGetScoreSupported;\n    }\n  }, {\n    key: \"isGetEntriesSupported\",\n    get: function get() {\n      return this._platformBridge.isLeaderboardGetEntriesSupported;\n    }\n  }, {\n    key: \"setScore\",\n    value: function setScore(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.setScore(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.setLeaderboardScore(options);\n    }\n  }, {\n    key: \"getScore\",\n    value: function getScore(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.getScore(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.getLeaderboardScore(options);\n    }\n  }, {\n    key: \"getEntries\",\n    value: function getEntries(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.getEntries(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.getLeaderboardEntries(options);\n    }\n  }, {\n    key: \"showNativePopup\",\n    value: function showNativePopup(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.showNativePopup(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.showLeaderboardNativePopup(options);\n    }\n  }]);\n  return LeaderboardModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LeaderboardModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/LeaderboardModule.js?");

/***/ }),

/***/ "./src/modules/ModuleBase.js":
/*!***********************************!*\
  !*** ./src/modules/ModuleBase.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\nvar ModuleBase = /*#__PURE__*/function () {\n  function ModuleBase(platformBridge) {\n    _classCallCheck(this, ModuleBase);\n    _defineProperty(this, \"_platformBridge\", void 0);\n    this._platformBridge = platformBridge;\n  }\n  _createClass(ModuleBase, [{\n    key: \"initialize\",\n    value: function initialize() {\n      return Promise.resolve();\n    }\n  }]);\n  return ModuleBase;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ModuleBase);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/ModuleBase.js?");

/***/ }),

/***/ "./src/modules/PaymentsModule.js":
/*!***************************************!*\
  !*** ./src/modules/PaymentsModule.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar PaymentsModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(PaymentsModule, _ModuleBase);\n  var _super = _createSuper(PaymentsModule);\n  function PaymentsModule() {\n    _classCallCheck(this, PaymentsModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(PaymentsModule, [{\n    key: \"isSupported\",\n    get: function get() {\n      return this._platformBridge.isPaymentsSupported;\n    }\n  }, {\n    key: \"purchase\",\n    value: function purchase(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.purchase(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.purchase(options);\n    }\n  }, {\n    key: \"getPurchases\",\n    value: function getPurchases() {\n      return this._platformBridge.getPaymentsPurchases();\n    }\n  }, {\n    key: \"getCatalog\",\n    value: function getCatalog() {\n      return this._platformBridge.getPaymentsCatalog();\n    }\n  }, {\n    key: \"consumePurchase\",\n    value: function consumePurchase(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.consumePurchase(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.consumePurchase(options);\n    }\n  }]);\n  return PaymentsModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentsModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/PaymentsModule.js?");

/***/ }),

/***/ "./src/modules/PlatformModule.js":
/*!***************************************!*\
  !*** ./src/modules/PlatformModule.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\nvar _isGameReadyMessageSent = /*#__PURE__*/new WeakMap();\nvar PlatformModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(PlatformModule, _ModuleBase);\n  var _super = _createSuper(PlatformModule);\n  function PlatformModule() {\n    var _this;\n    _classCallCheck(this, PlatformModule);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _isGameReadyMessageSent, {\n      writable: true,\n      value: false\n    });\n    return _this;\n  }\n  _createClass(PlatformModule, [{\n    key: \"id\",\n    get: function get() {\n      return this._platformBridge.platformId;\n    }\n  }, {\n    key: \"sdk\",\n    get: function get() {\n      return this._platformBridge.platformSdk;\n    }\n  }, {\n    key: \"language\",\n    get: function get() {\n      return this._platformBridge.platformLanguage;\n    }\n  }, {\n    key: \"payload\",\n    get: function get() {\n      return this._platformBridge.platformPayload;\n    }\n  }, {\n    key: \"tld\",\n    get: function get() {\n      return this._platformBridge.platformTld;\n    }\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      if (message === _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.GAME_READY) {\n        if (_classPrivateFieldGet(this, _isGameReadyMessageSent)) {\n          return Promise.reject();\n        }\n        _classPrivateFieldSet(this, _isGameReadyMessageSent, true);\n      }\n      return this._platformBridge.sendMessage(message);\n    }\n  }, {\n    key: \"getServerTime\",\n    value: function getServerTime() {\n      return this._platformBridge.getServerTime();\n    }\n  }]);\n  return PlatformModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlatformModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/PlatformModule.js?");

/***/ }),

/***/ "./src/modules/PlayerModule.js":
/*!*************************************!*\
  !*** ./src/modules/PlayerModule.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar PlayerModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(PlayerModule, _ModuleBase);\n  var _super = _createSuper(PlayerModule);\n  function PlayerModule() {\n    _classCallCheck(this, PlayerModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(PlayerModule, [{\n    key: \"isAuthorizationSupported\",\n    get: function get() {\n      return this._platformBridge.isPlayerAuthorizationSupported;\n    }\n  }, {\n    key: \"isAuthorized\",\n    get: function get() {\n      return this._platformBridge.isPlayerAuthorized;\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this._platformBridge.playerId;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this._platformBridge.playerName;\n    }\n  }, {\n    key: \"photos\",\n    get: function get() {\n      return this._platformBridge.playerPhotos;\n    }\n  }, {\n    key: \"authorize\",\n    value: function authorize(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.authorize(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.authorizePlayer(options);\n    }\n  }]);\n  return PlayerModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlayerModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/PlayerModule.js?");

/***/ }),

/***/ "./src/modules/RemoteConfigModule.js":
/*!*******************************************!*\
  !*** ./src/modules/RemoteConfigModule.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar RemoteConfigModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(RemoteConfigModule, _ModuleBase);\n  var _super = _createSuper(RemoteConfigModule);\n  function RemoteConfigModule() {\n    _classCallCheck(this, RemoteConfigModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(RemoteConfigModule, [{\n    key: \"isSupported\",\n    get: function get() {\n      return this._platformBridge.isRemoteConfigSupported;\n    }\n  }, {\n    key: \"get\",\n    value: function get(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.get(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.getRemoteConfig(options);\n    }\n  }]);\n  return RemoteConfigModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoteConfigModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/RemoteConfigModule.js?");

/***/ }),

/***/ "./src/modules/SocialModule.js":
/*!*************************************!*\
  !*** ./src/modules/SocialModule.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar SocialModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(SocialModule, _ModuleBase);\n  var _super = _createSuper(SocialModule);\n  function SocialModule() {\n    _classCallCheck(this, SocialModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SocialModule, [{\n    key: \"isInviteFriendsSupported\",\n    get: function get() {\n      return this._platformBridge.isInviteFriendsSupported;\n    }\n  }, {\n    key: \"isJoinCommunitySupported\",\n    get: function get() {\n      return this._platformBridge.isJoinCommunitySupported;\n    }\n  }, {\n    key: \"isShareSupported\",\n    get: function get() {\n      return this._platformBridge.isShareSupported;\n    }\n  }, {\n    key: \"isCreatePostSupported\",\n    get: function get() {\n      return this._platformBridge.isCreatePostSupported;\n    }\n  }, {\n    key: \"isAddToHomeScreenSupported\",\n    get: function get() {\n      return this._platformBridge.isAddToHomeScreenSupported;\n    }\n  }, {\n    key: \"isAddToFavoritesSupported\",\n    get: function get() {\n      return this._platformBridge.isAddToFavoritesSupported;\n    }\n  }, {\n    key: \"isRateSupported\",\n    get: function get() {\n      return this._platformBridge.isRateSupported;\n    }\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return this._platformBridge.isExternalLinksAllowed;\n    }\n  }, {\n    key: \"inviteFriends\",\n    value: function inviteFriends(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.inviteFriends(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.inviteFriends(options);\n    }\n  }, {\n    key: \"joinCommunity\",\n    value: function joinCommunity(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.joinCommunity(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.joinCommunity(options);\n    }\n  }, {\n    key: \"share\",\n    value: function share(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.share(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.share(options);\n    }\n  }, {\n    key: \"createPost\",\n    value: function createPost(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.createPost(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.createPost(options);\n    }\n  }, {\n    key: \"addToHomeScreen\",\n    value: function addToHomeScreen() {\n      return this._platformBridge.addToHomeScreen();\n    }\n  }, {\n    key: \"addToFavorites\",\n    value: function addToFavorites() {\n      return this._platformBridge.addToFavorites();\n    }\n  }, {\n    key: \"rate\",\n    value: function rate() {\n      return this._platformBridge.rate();\n    }\n  }]);\n  return SocialModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocialModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/SocialModule.js?");

/***/ }),

/***/ "./src/modules/StorageModule.js":
/*!**************************************!*\
  !*** ./src/modules/StorageModule.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ModuleBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModuleBase */ \"./src/modules/ModuleBase.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nvar StorageModule = /*#__PURE__*/function (_ModuleBase) {\n  _inherits(StorageModule, _ModuleBase);\n  var _super = _createSuper(StorageModule);\n  function StorageModule() {\n    _classCallCheck(this, StorageModule);\n    return _super.apply(this, arguments);\n  }\n  _createClass(StorageModule, [{\n    key: \"defaultType\",\n    get: function get() {\n      return this._platformBridge.defaultStorageType;\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.isSupported(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.isStorageSupported(options);\n    }\n  }, {\n    key: \"isAvailable\",\n    value: function isAvailable(options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.isSupported(platformDependedOptions);\n        }\n      }\n      return this._platformBridge.isStorageAvailable(options);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, options) {\n      var tryParseJson = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.get(key, platformDependedOptions, tryParseJson);\n        }\n      }\n      var storageType = options;\n      if (!storageType) {\n        storageType = this.defaultType;\n      }\n      if (!this._platformBridge.isStorageAvailable(storageType)) {\n        return Promise.reject();\n      }\n      return this._platformBridge.getDataFromStorage(key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value, options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this.set(key, value, platformDependedOptions);\n        }\n      }\n      var storageType = options;\n      if (!storageType) {\n        storageType = this.defaultType;\n      }\n      if (!this._platformBridge.isStorageAvailable(storageType)) {\n        return Promise.reject();\n      }\n      return this._platformBridge.setDataToStorage(key, value, storageType);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key, options) {\n      if (options) {\n        var platformDependedOptions = options[this._platformBridge.platformId];\n        if (platformDependedOptions) {\n          return this[\"delete\"](key, platformDependedOptions);\n        }\n      }\n      var storageType = options;\n      if (!storageType) {\n        storageType = this.defaultType;\n      }\n      if (!this._platformBridge.isStorageAvailable(storageType)) {\n        return Promise.reject();\n      }\n      return this._platformBridge.deleteDataFromStorage(key, storageType);\n    }\n  }]);\n  return StorageModule;\n}(_ModuleBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StorageModule);\n\n//# sourceURL=webpack://playgama-bridge/./src/modules/StorageModule.js?");

/***/ }),

/***/ "./src/platform-bridges/AbsoluteGamesPlatformBridge.js":
/*!*************************************************************!*\
  !*** ./src/platform-bridges/AbsoluteGamesPlatformBridge.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://unpkg.com/@agru/sdk/dist/umd/index.min.js';\nvar _getPlayerInfo = /*#__PURE__*/new WeakSet();\nvar AbsoluteGamesPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(AbsoluteGamesPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(AbsoluteGamesPlatformBridge);\n  function AbsoluteGamesPlatformBridge() {\n    var _this;\n    _classCallCheck(this, AbsoluteGamesPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _getPlayerInfo);\n    return _this;\n  }\n  _createClass(AbsoluteGamesPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.ABSOLUTE_GAMES;\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // social\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n          _this2._platformSdk = new window.AgRuSdk();\n          _this2._platformSdk.on(window.AgRuSdkMethods.ShowCampaign, function (data, error) {\n            switch (data.type) {\n              case 'rewarded':\n                {\n                  if (error === null) {\n                    if (data.status) {\n                      _this2._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n                    } else {\n                      if (data.reward) {\n                        _this2._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n                      }\n                      _this2._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n                    }\n                  } else {\n                    _this2._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n                  }\n                  break;\n                }\n              case 'default': // A valid value for the property, just to denote it\n              default:\n                {\n                  if (error === null) {\n                    if (data.status) {\n                      _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n                    } else {\n                      _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n                    }\n                  } else {\n                    _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n                  }\n                  break;\n                }\n            }\n          });\n          var getPlayerInfoPromise = _classPrivateMethodGet(_this2, _getPlayerInfo, _getPlayerInfo2).call(_this2);\n          Promise.all([getPlayerInfoPromise])[\"finally\"](function () {\n            _this2._isInitialized = true;\n            _this2._defaultStorageType = _this2._isPlayerAuthorized ? _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL : _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.LOCAL_STORAGE;\n            _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      var _this3 = this;\n      if (this._isPlayerAuthorized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n        this._platformSdk.authorize(function (data, error) {\n          if (error === null) {\n            _this3._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n          } else {\n            _this3._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER, error);\n          }\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(AbsoluteGamesPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return this._isPlayerAuthorized;\n      }\n      return _get(_getPrototypeOf(AbsoluteGamesPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this4 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          if (_this4._platformStorageCachedData) {\n            if (Array.isArray(key)) {\n              var values = [];\n              for (var i = 0; i < key.length; i++) {\n                var value = typeof _this4._platformStorageCachedData[key[i]] === 'undefined' ? null : _this4._platformStorageCachedData[key[i]];\n                values.push(value);\n              }\n              resolve(values);\n              return;\n            }\n            resolve(typeof _this4._platformStorageCachedData[key] === 'undefined' ? null : _this4._platformStorageCachedData[key]);\n            return;\n          }\n          if (_this4._isPlayerAuthorized) {\n            _this4._platformSdk.getSaveData(function (data, error) {\n              if (error === null) {\n                _this4._platformStorageCachedData = data || {};\n                if (Array.isArray(key)) {\n                  var _values = [];\n                  for (var _i = 0; _i < key.length; _i++) {\n                    var _value = typeof _this4._platformStorageCachedData[key[_i]] === 'undefined' ? null : _this4._platformStorageCachedData[key[_i]];\n                    _values.push(_value);\n                  }\n                  resolve(_values);\n                  return;\n                }\n                resolve(typeof _this4._platformStorageCachedData[key] === 'undefined' ? null : _this4._platformStorageCachedData[key]);\n              } else {\n                reject(error);\n              }\n            });\n          } else {\n            reject();\n          }\n        });\n      }\n      return _get(_getPrototypeOf(AbsoluteGamesPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this5 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          if (_this5._isPlayerAuthorized) {\n            var data = _this5._platformStorageCachedData !== null ? _objectSpread({}, _this5._platformStorageCachedData) : {};\n            if (Array.isArray(key)) {\n              for (var i = 0; i < key.length; i++) {\n                data[key[i]] = value[i];\n              }\n            } else {\n              data[key] = value;\n            }\n            _this5._platformSdk.setSaveData(data, function (result, error) {\n              if (error === null) {\n                _this5._platformStorageCachedData = data;\n                resolve();\n              }\n              reject(error);\n            });\n          } else {\n            reject();\n          }\n        });\n      }\n      return _get(_getPrototypeOf(AbsoluteGamesPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this6 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          if (_this6._isPlayerAuthorized) {\n            var data = _this6._platformStorageCachedData !== null ? _objectSpread({}, _this6._platformStorageCachedData) : {};\n            if (Array.isArray(key)) {\n              for (var i = 0; i < key.length; i++) {\n                delete data[key[i]];\n              }\n            } else {\n              delete data[key];\n            }\n            _this6._platformSdk.setSaveData(data, function (result, error) {\n              if (error === null) {\n                _this6._platformStorageCachedData = data;\n                resolve();\n              }\n              reject(error);\n            });\n          } else {\n            reject();\n          }\n        });\n      }\n      return _get(_getPrototypeOf(AbsoluteGamesPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      this._platformSdk.showCampaign('default');\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      this._platformSdk.showCampaign('rewarded');\n    }\n  }]);\n  return AbsoluteGamesPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _getPlayerInfo2() {\n  var _this7 = this;\n  this._playerId = this._platformSdk.options.player_id;\n  this._isPlayerAuthorized = this._platformSdk.options.guest === 'false';\n  return new Promise(function (resolve) {\n    _this7._platformSdk.getUsers([_this7._playerId], function (data) {\n      if (data && data.length === 1) {\n        var playerData = data[0];\n        _this7._playerName = playerData.full_name;\n        if (playerData.avatar !== '') {\n          _this7._playerPhotos = [playerData.avatar];\n        }\n      }\n      resolve();\n    });\n  });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AbsoluteGamesPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/AbsoluteGamesPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/CrazyGamesPlatformBridge.js":
/*!**********************************************************!*\
  !*** ./src/platform-bridges/CrazyGamesPlatformBridge.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jwt-decode */ \"./node_modules/jwt-decode/build/esm/index.js\");\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\n\nvar SDK_URL = 'https://sdk.crazygames.com/crazygames-sdk-v3.js';\nvar _currentAdvertisementIsRewarded = /*#__PURE__*/new WeakMap();\nvar _isUserAccountAvailable = /*#__PURE__*/new WeakMap();\nvar _adCallbacks = /*#__PURE__*/new WeakMap();\nvar _getPlayer = /*#__PURE__*/new WeakSet();\nvar CrazyGamesPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(CrazyGamesPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(CrazyGamesPlatformBridge);\n  function CrazyGamesPlatformBridge() {\n    var _this;\n    _classCallCheck(this, CrazyGamesPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _getPlayer);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _currentAdvertisementIsRewarded, {\n      writable: true,\n      value: false\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _isUserAccountAvailable, {\n      writable: true,\n      value: false\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _adCallbacks, {\n      writable: true,\n      value: {\n        adStarted: function adStarted() {\n          if (_classPrivateFieldGet(_assertThisInitialized(_this), _currentAdvertisementIsRewarded)) {\n            _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.OPENED);\n          } else {\n            _this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.OPENED);\n          }\n        },\n        adFinished: function adFinished() {\n          if (_classPrivateFieldGet(_assertThisInitialized(_this), _currentAdvertisementIsRewarded)) {\n            _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.REWARDED);\n            _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.CLOSED);\n          } else {\n            _this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.CLOSED);\n          }\n        },\n        adError: function adError() {\n          if (_classPrivateFieldGet(_assertThisInitialized(_this), _currentAdvertisementIsRewarded)) {\n            _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_3__.REWARDED_STATE.FAILED);\n          } else {\n            _this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_3__.INTERSTITIAL_STATE.FAILED);\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(CrazyGamesPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_3__.PLATFORM_ID.CRAZY_GAMES;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      if (_classPrivateFieldGet(this, _isUserAccountAvailable)) {\n        return this._platformSdk.user.systemInfo.countryCode.toLowerCase();\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"platformLanguage\", this);\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _isUserAccountAvailable);\n    }\n\n    // device\n  }, {\n    key: \"deviceType\",\n    get: function get() {\n      if (_classPrivateFieldGet(this, _isUserAccountAvailable)) {\n        var userDeviceType = this._platformSdk.user.systemInfo.device.type.toLowerCase();\n        if ([_constants__WEBPACK_IMPORTED_MODULE_3__.DEVICE_TYPE.DESKTOP, _constants__WEBPACK_IMPORTED_MODULE_3__.DEVICE_TYPE.MOBILE, _constants__WEBPACK_IMPORTED_MODULE_3__.DEVICE_TYPE.TABLET].includes(userDeviceType)) {\n          return userDeviceType;\n        }\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"deviceType\", this);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_2__.addJavaScript)(SDK_URL).then(function () {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_2__.waitFor)('CrazyGames', 'SDK', 'init').then(function () {\n            _this2._platformSdk = window.CrazyGames.SDK;\n            _this2._defaultStorageType = _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.LOCAL_STORAGE;\n            _this2._isBannerSupported = true;\n            _this2._platformSdk.init().then(function () {\n              _classPrivateFieldSet(_this2, _isUserAccountAvailable, _this2._platformSdk.user.isUserAccountAvailable);\n              var getPlayerInfoPromise = _classPrivateMethodGet(_this2, _getPlayer, _getPlayer2).call(_this2);\n              Promise.all([getPlayerInfoPromise])[\"finally\"](function () {\n                _this2._isInitialized = true;\n                _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.INITIALIZE);\n              });\n            });\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      var _this3 = this;\n      if (!_classPrivateFieldGet(this, _isUserAccountAvailable)) {\n        return Promise.reject();\n      }\n      if (this._isPlayerAuthorized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.AUTHORIZE_PLAYER);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.AUTHORIZE_PLAYER);\n        this._platformSdk.user.showAuthPrompt().then(function () {\n          _classPrivateMethodGet(_this3, _getPlayer, _getPlayer2).call(_this3).then(function () {\n            _this3._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.AUTHORIZE_PLAYER);\n          });\n        })[\"catch\"](function (error) {\n          _this3._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_3__.ACTION_NAME.AUTHORIZE_PLAYER, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // platform\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      switch (message) {\n        case _constants__WEBPACK_IMPORTED_MODULE_3__.PLATFORM_MESSAGE.IN_GAME_LOADING_STARTED:\n          {\n            this._platformSdk.game.loadingStart();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_3__.PLATFORM_MESSAGE.IN_GAME_LOADING_STOPPED:\n          {\n            this._platformSdk.game.loadingStop();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_3__.PLATFORM_MESSAGE.GAMEPLAY_STARTED:\n          {\n            this._platformSdk.game.gameplayStart();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_3__.PLATFORM_MESSAGE.GAMEPLAY_STOPPED:\n          {\n            this._platformSdk.game.gameplayStop();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_3__.PLATFORM_MESSAGE.PLAYER_GOT_ACHIEVEMENT:\n          {\n            this._platformSdk.game.happytime();\n            return Promise.resolve();\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"sendMessage\", this).call(this, message);\n          }\n      }\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this4 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          if (Array.isArray(key)) {\n            var values = [];\n            key.forEach(function (k) {\n              var value = _this4._platformSdk.data.getItem(k);\n              if (tryParseJson) {\n                try {\n                  value = JSON.parse(value);\n                } catch (e) {\n                  // keep value string or null\n                }\n              }\n              values.push(value);\n            });\n            resolve(values);\n            return;\n          }\n          var value = _this4._platformSdk.data.getItem(key);\n          if (tryParseJson) {\n            try {\n              value = JSON.parse(value);\n            } catch (e) {\n              // keep value string or null\n            }\n          }\n          resolve(value);\n        });\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this5 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          if (Array.isArray(key)) {\n            for (var i = 0; i < key.length; i++) {\n              var _valueData = value[i];\n              if (typeof value[i] !== 'string') {\n                _valueData = JSON.stringify(value[i]);\n              }\n              _this5._platformSdk.data.setItem(key[i], _valueData);\n            }\n            resolve();\n            return;\n          }\n          var valueData = value;\n          if (typeof value !== 'string') {\n            valueData = JSON.stringify(value);\n          }\n          _this5._platformSdk.data.setItem(key, valueData);\n          resolve();\n        });\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this6 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (Array.isArray(key)) {\n          key.forEach(function (k) {\n            return _this6._platformSdk.data.removeItem(k);\n          });\n          return Promise.resolve();\n        }\n        this._platformSdk.data.removeItem(key);\n        return Promise.resolve();\n      }\n      return _get(_getPrototypeOf(CrazyGamesPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showBanner\",\n    value: function showBanner(options) {\n      var _this7 = this;\n      if (options && options.containerId && typeof options.containerId === 'string') {\n        this._platformSdk.banner.requestResponsiveBanner([options.containerId]).then(function () {\n          _this7._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.SHOWN);\n        })[\"catch\"](function () {\n          _this7._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.FAILED);\n        });\n      } else {\n        this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.FAILED);\n      }\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      this._platformSdk.banner.clearAllBanners();\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_3__.BANNER_STATE.HIDDEN);\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      _classPrivateFieldSet(this, _currentAdvertisementIsRewarded, false);\n      this._platformSdk.ad.requestAd('midgame', _classPrivateFieldGet(this, _adCallbacks));\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      _classPrivateFieldSet(this, _currentAdvertisementIsRewarded, true);\n      this._platformSdk.ad.requestAd('rewarded', _classPrivateFieldGet(this, _adCallbacks));\n    }\n  }, {\n    key: \"checkAdBlock\",\n    value: function checkAdBlock() {\n      var _this8 = this;\n      return new Promise(function (resolve) {\n        _this8._platformSdk.ad.hasAdblock().then(function (res) {\n          resolve(res);\n        });\n      });\n    }\n  }]);\n  return CrazyGamesPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nfunction _getPlayer2() {\n  var _this9 = this;\n  if (!_classPrivateFieldGet(this, _isUserAccountAvailable)) {\n    return Promise.reject();\n  }\n  return new Promise(function (resolve, reject) {\n    _this9._platformSdk.user.getUserToken().then(function (token) {\n      var player = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_0__.jwtDecode)(token);\n      _this9._isPlayerAuthorized = true;\n      _this9._defaultStorageType = _constants__WEBPACK_IMPORTED_MODULE_3__.STORAGE_TYPE.PLATFORM_INTERNAL;\n      if (player.userId) {\n        _this9._playerId = player.userId;\n      }\n      if (player.username) {\n        _this9._playerName = player.username;\n      }\n      if (player.profilePictureUrl) {\n        _this9._playerPhotos = [player.profilePictureUrl];\n      }\n      resolve();\n    })[\"catch\"](function (error) {\n      reject(error);\n    });\n  });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CrazyGamesPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/CrazyGamesPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/GameDistributionPlatformBridge.js":
/*!****************************************************************!*\
  !*** ./src/platform-bridges/GameDistributionPlatformBridge.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://html5.api.gamedistribution.com/main.min.js';\nvar _currentAdvertisementIsRewarded = /*#__PURE__*/new WeakMap();\nvar GameDistributionPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(GameDistributionPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(GameDistributionPlatformBridge);\n  function GameDistributionPlatformBridge() {\n    var _this;\n    _classCallCheck(this, GameDistributionPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _currentAdvertisementIsRewarded, {\n      writable: true,\n      value: false\n    });\n    return _this;\n  }\n  _createClass(GameDistributionPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.GAME_DISTRIBUTION;\n    }\n\n    // social\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        if (!this._options || typeof this._options.gameId !== 'string') {\n          this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE, _constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED);\n        } else {\n          var self = this;\n          window.GD_OPTIONS = {\n            gameId: this._options.gameId,\n            onEvent: function onEvent(event) {\n              switch (event.name) {\n                case 'SDK_READY':\n                  self._platformSdk = window.gdsdk;\n                  self._platformSdk.preloadAd('rewarded');\n                  self._isInitialized = true;\n                  self._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n                  break;\n                case 'SDK_GAME_START':\n                  if (_classPrivateFieldGet(self, _currentAdvertisementIsRewarded)) {\n                    self._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n                  } else {\n                    self._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n                  }\n                  break;\n                case 'SDK_GAME_PAUSE':\n                  if (_classPrivateFieldGet(self, _currentAdvertisementIsRewarded)) {\n                    self._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n                  } else {\n                    self._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n                  }\n                  break;\n                case 'SDK_REWARDED_WATCH_COMPLETE':\n                  self._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n                  break;\n                case 'SDK_GDPR_TRACKING':\n                case 'SDK_GDPR_TARGETING':\n                default:\n                  break;\n              }\n            }\n          };\n          this._defaultStorageType = _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.LOCAL_STORAGE;\n          this._isBannerSupported = true;\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL);\n        }\n      }\n      return promiseDecorator.promise;\n    }\n\n    // advertisement\n  }, {\n    key: \"showBanner\",\n    value: function showBanner(options) {\n      var _this2 = this;\n      if (options && options.containerId && typeof options.containerId === 'string') {\n        this._platformSdk.showAd('display', {\n          containerId: options.containerId\n        }).then(function () {\n          _this2._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.SHOWN);\n        })[\"catch\"](function () {\n          _this2._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n        });\n      } else {\n        this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n      }\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.HIDDEN);\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this3 = this;\n      _classPrivateFieldSet(this, _currentAdvertisementIsRewarded, false);\n      if (this._platformSdk) {\n        this._platformSdk.showAd()[\"catch\"](function () {\n          _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        });\n      } else {\n        this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n      }\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this4 = this;\n      _classPrivateFieldSet(this, _currentAdvertisementIsRewarded, true);\n      if (this._platformSdk) {\n        this._platformSdk.showAd('rewarded')[\"catch\"](function () {\n          _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        });\n      } else {\n        this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n      }\n    }\n  }]);\n  return GameDistributionPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameDistributionPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/GameDistributionPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/OkPlatformBridge.js":
/*!**************************************************!*\
  !*** ./src/platform-bridges/OkPlatformBridge.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = '//api.ok.ru/js/fapi5.js';\nvar AUTH_STATE = 'AUTHORIZED';\nvar PERMISSION_TYPES = {\n  VALUABLE_ACCESS: 'VALUABLE_ACCESS',\n  PHOTO_CONTENT: 'PHOTO_CONTENT'\n};\nvar _fields = /*#__PURE__*/new WeakMap();\nvar _callbacks = /*#__PURE__*/new WeakMap();\nvar _apiCallbacks = /*#__PURE__*/new WeakMap();\nvar _onGetUserProfileCompleted = /*#__PURE__*/new WeakSet();\nvar _onLoginCompleted = /*#__PURE__*/new WeakSet();\nvar _onHasAccessValuePermissionCompleted = /*#__PURE__*/new WeakSet();\nvar _onSetStatusPermissionCompleted = /*#__PURE__*/new WeakSet();\nvar _onLoadedRewarded = /*#__PURE__*/new WeakSet();\nvar _onRewardedShown = /*#__PURE__*/new WeakSet();\nvar _onInterstitialShown = /*#__PURE__*/new WeakSet();\nvar _onRequestedBanner = /*#__PURE__*/new WeakSet();\nvar _onHiddenBanner = /*#__PURE__*/new WeakSet();\nvar _onShownBanner = /*#__PURE__*/new WeakSet();\nvar _onSetBannerFormat = /*#__PURE__*/new WeakSet();\nvar _onInviteFriendsCompleted = /*#__PURE__*/new WeakSet();\nvar _onGameRatingReceived = /*#__PURE__*/new WeakSet();\nvar _onJoinGroupRequested = /*#__PURE__*/new WeakSet();\nvar _onPostCreatedCompleted = /*#__PURE__*/new WeakSet();\nvar _onIsAdBlockEnabled = /*#__PURE__*/new WeakSet();\nvar OkPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(OkPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(OkPlatformBridge);\n  function OkPlatformBridge() {\n    var _this;\n    _classCallCheck(this, OkPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onIsAdBlockEnabled);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onPostCreatedCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onJoinGroupRequested);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onGameRatingReceived);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onInviteFriendsCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onSetBannerFormat);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onShownBanner);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onHiddenBanner);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onRequestedBanner);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onInterstitialShown);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onRewardedShown);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onLoadedRewarded);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onSetStatusPermissionCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onHasAccessValuePermissionCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onLoginCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onGetUserProfileCompleted);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _apiCallbacks, {\n      get: _get_apiCallbacks,\n      set: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _callbacks, {\n      get: _get_callbacks,\n      set: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _fields, {\n      get: _get_fields,\n      set: void 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_hasValuableAccessPermission\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_hasValuableAccessPermissionShowed\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_platformBannerOptions\", {});\n    return _this;\n  }\n  _createClass(OkPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.OK;\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // advertisement\n  }, {\n    key: \"isBannerSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // social\n  }, {\n    key: \"isJoinCommunitySupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isInviteFriendsSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isCreatePostSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isRateSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return false;\n    }\n\n    // clipboard\n  }, {\n    key: \"isClipboardSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.waitFor)('FAPI').then(function () {\n            _this2._platformSdk = window.FAPI;\n            window.API_callback = function (method, result, data) {\n              return _classPrivateFieldGet(_this2, _apiCallbacks)[method](result, data);\n            };\n            var params = _this2._platformSdk.Util.getRequestParameters() || {};\n            if (!params.api_server || !params.apiconnection) {\n              _this2._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE, _constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.OK_GAME_PARAMS_NOT_FOUND);\n            } else {\n              _this2._platformSdk.init(params.api_server, params.apiconnection, function () {\n                var _this2$_platformSdk;\n                var savedState = (_this2$_platformSdk = _this2._platformSdk) === null || _this2$_platformSdk === void 0 ? void 0 : _this2$_platformSdk.saved_state;\n                _this2._isPlayerAuthorized = savedState ? savedState === AUTH_STATE : true;\n                if (_this2._isPlayerAuthorized) {\n                  _this2._platformSdk.Client.call(_classPrivateFieldGet(_this2, _fields).userProfile, _classPrivateFieldGet(_this2, _callbacks).userProfileCallback);\n                } else {\n                  _this2._isInitialized = true;\n                  _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n                }\n              }, function () {\n                _this2._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n              });\n            }\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      if (this._isPlayerAuthorized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n        this._platformSdk.UI.showLoginSuggestion(AUTH_STATE);\n      }\n      return promiseDecorator.promise;\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(OkPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return this._hasValuableAccessPermission;\n      }\n      return _get(_getPrototypeOf(OkPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this3 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (!this._hasValuableAccessPermission) {\n          return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.STORAGE_NOT_AVAILABLE);\n        }\n        return new Promise(function (resolve, reject) {\n          var keys = Array.isArray(key) ? key : [key];\n          var params = {\n            method: 'storage.get',\n            keys: keys,\n            scope: 'CUSTOM'\n          };\n          _this3._platformSdk.Client.call(params, function (status, data, error) {\n            if (data) {\n              var response = data.data || {};\n              if (Array.isArray(key)) {\n                var values = [];\n                keys.forEach(function (item) {\n                  if (response[item] === '' || response[item] === undefined) {\n                    values.push(null);\n                    return;\n                  }\n                  var value = response[item];\n                  if (tryParseJson) {\n                    try {\n                      value = JSON.parse(response[item]);\n                    } catch (e) {\n                      // keep value as it is\n                    }\n                  }\n                  values.push(value);\n                });\n                resolve(values);\n                return;\n              }\n              if (response[key] === '' || response[key] === undefined) {\n                resolve(null);\n                return;\n              }\n              var value = response[key];\n              if (tryParseJson) {\n                try {\n                  value = JSON.parse(response[key]);\n                } catch (e) {\n                  // keep value as it is\n                }\n              }\n              resolve(value);\n            } else {\n              reject(error);\n            }\n          });\n        });\n      }\n      return _get(_getPrototypeOf(OkPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this4 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (!this._hasValuableAccessPermission) {\n          return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.STORAGE_NOT_AVAILABLE);\n        }\n        var keys = Array.isArray(key) ? key : [key];\n        var values = Array.isArray(key) ? value : [value];\n        var promises = [];\n        var _loop = function _loop() {\n          var k = keys[i];\n          var v = values[i];\n          if (typeof v !== 'string') {\n            v = JSON.stringify(v);\n          }\n          var params = {\n            method: 'storage.set',\n            key: k,\n            value: v\n          };\n          var promise = new Promise(function (resolve, reject) {\n            _this4._platformSdk.Client.call(params, function (status, data) {\n              if (data) {\n                resolve();\n              } else {\n                reject();\n              }\n            });\n          });\n          promises.push(promise);\n        };\n        for (var i = 0; i < keys.length; i++) {\n          _loop();\n        }\n        return Promise.all(promises);\n      }\n      return _get(_getPrototypeOf(OkPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this5 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (!this._hasValuableAccessPermission) {\n          return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.STORAGE_NOT_AVAILABLE);\n        }\n        var keys = Array.isArray(key) ? key : [key];\n        var promises = [];\n        var _loop2 = function _loop2() {\n          var k = keys[i];\n          var params = {\n            method: 'storage.set',\n            key: k\n          };\n          var promise = new Promise(function (resolve, reject) {\n            _this5._platformSdk.Client.call(params, function (status, data) {\n              if (data) {\n                resolve();\n              } else {\n                reject();\n              }\n            });\n          });\n          promises.push(promise);\n        };\n        for (var i = 0; i < keys.length; i++) {\n          _loop2();\n        }\n        return Promise.all(promises);\n      }\n      return _get(_getPrototypeOf(OkPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      try {\n        this._platformSdk.UI.showAd();\n      } catch (_unused) {\n        this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n      }\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      try {\n        this._platformSdk.UI.loadAd();\n      } catch (_unused2) {\n        this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n      }\n    }\n  }, {\n    key: \"showBanner\",\n    value: function showBanner(options) {\n      var position = 'bottom';\n      if (options) {\n        if (typeof options.layoutType === 'string') {\n          this._platformBannerOptions = _objectSpread(_objectSpread({}, options), {}, {\n            layoutType: null\n          });\n          this._platformSdk.invokeUIMethod('setBannerFormat', options.layoutType);\n          return;\n        }\n        if (typeof options.position === 'string') {\n          this._platformSdk.invokeUIMethod('requestBannerAds', options.position);\n          return;\n        }\n      }\n      this._platformSdk.invokeUIMethod('requestBannerAds', position);\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      this._platformSdk.invokeUIMethod('hideBannerAds');\n    }\n  }, {\n    key: \"checkAdBlock\",\n    value: function checkAdBlock() {\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADBLOCK_DETECT);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADBLOCK_DETECT);\n        this._platformSdk.invokeUIMethod('isAdBlockEnabled');\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"inviteFriends\",\n    value: function inviteFriends(options) {\n      var _ref = options || {},\n        text = _ref.text;\n      if (!options || typeof text !== 'string') {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INVITE_FRIENDS);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INVITE_FRIENDS);\n        if (text.length > 120) {\n          this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INVITE_FRIENDS, _constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.INVITE_FRIENDS_MESSAGE_LENGTH_ERROR);\n        } else {\n          this._platformSdk.UI.showInvite(text);\n        }\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"rate\",\n    value: function rate() {\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n        this._platformSdk.UI.showRatingDialog();\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"createPost\",\n    value: function createPost(options) {\n      if (!options || !(options !== null && options !== void 0 && options.media)) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CREATE_POST);\n      if (!promiseDecorator) {\n        var _options$status;\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CREATE_POST);\n        this._platformSdk.UI.postMediatopic(options, (_options$status = options.status) !== null && _options$status !== void 0 ? _options$status : false);\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"joinCommunity\",\n    value: function joinCommunity(options) {\n      if (!options || !(options !== null && options !== void 0 && options.groupId)) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.JOIN_COMMUNITY);\n      if (!promiseDecorator) {\n        var _options$enableMessag;\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.JOIN_COMMUNITY);\n        this._platformSdk.UI.joinGroup(options.groupId, (_options$enableMessag = options.enableMessages) !== null && _options$enableMessag !== void 0 ? _options$enableMessag : false);\n      }\n      return promiseDecorator.promise;\n    }\n  }]);\n  return OkPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _get_fields() {\n  return {\n    userProfile: {\n      fields: 'uid,name,pic50x50,pic128x128,pic_base',\n      method: 'users.getCurrentUser'\n    },\n    hasAppPermission: function hasAppPermission(permission) {\n      return {\n        method: 'users.hasAppPermission',\n        ext_perm: permission\n      };\n    }\n  };\n}\nfunction _get_callbacks() {\n  var _this6 = this;\n  return {\n    userProfileCallback: function userProfileCallback(status, data, error) {\n      return _classPrivateMethodGet(_this6, _onGetUserProfileCompleted, _onGetUserProfileCompleted2).call(_this6, status, data, error);\n    },\n    hasValueAccessCallback: function hasValueAccessCallback(_, result, data) {\n      return _classPrivateMethodGet(_this6, _onHasAccessValuePermissionCompleted, _onHasAccessValuePermissionCompleted2).call(_this6, result, data);\n    }\n  };\n}\nfunction _get_apiCallbacks() {\n  var _this7 = this;\n  return {\n    showPermissions: function showPermissions() {\n      return _classPrivateMethodGet(_this7, _onSetStatusPermissionCompleted, _onSetStatusPermissionCompleted2).call(_this7);\n    },\n    loadAd: function loadAd(result) {\n      return _classPrivateMethodGet(_this7, _onLoadedRewarded, _onLoadedRewarded2).call(_this7, result);\n    },\n    showLoadedAd: function showLoadedAd(_, data) {\n      return _classPrivateMethodGet(_this7, _onRewardedShown, _onRewardedShown2).call(_this7, data);\n    },\n    showAd: function showAd(_, data) {\n      return _classPrivateMethodGet(_this7, _onInterstitialShown, _onInterstitialShown2).call(_this7, data);\n    },\n    requestBannerAds: function requestBannerAds(result, data) {\n      return _classPrivateMethodGet(_this7, _onRequestedBanner, _onRequestedBanner2).call(_this7, result, data);\n    },\n    showBannerAds: function showBannerAds(_, data) {\n      return _classPrivateMethodGet(_this7, _onShownBanner, _onShownBanner2).call(_this7, data);\n    },\n    hideBannerAds: function hideBannerAds(_, data) {\n      return _classPrivateMethodGet(_this7, _onHiddenBanner, _onHiddenBanner2).call(_this7, data);\n    },\n    setBannerFormat: function setBannerFormat(result) {\n      return _classPrivateMethodGet(_this7, _onSetBannerFormat, _onSetBannerFormat2).call(_this7, result);\n    },\n    showInvite: function showInvite(result) {\n      return _classPrivateMethodGet(_this7, _onInviteFriendsCompleted, _onInviteFriendsCompleted2).call(_this7, result);\n    },\n    showRatingDialog: function showRatingDialog(result, data) {\n      return _classPrivateMethodGet(_this7, _onGameRatingReceived, _onGameRatingReceived2).call(_this7, result, data);\n    },\n    joinGroup: function joinGroup(result, data) {\n      return _classPrivateMethodGet(_this7, _onJoinGroupRequested, _onJoinGroupRequested2).call(_this7, result, data);\n    },\n    showLoginSuggestion: function showLoginSuggestion(result, data) {\n      return _classPrivateMethodGet(_this7, _onLoginCompleted, _onLoginCompleted2).call(_this7, result, data);\n    },\n    postMediatopic: function postMediatopic(result, data) {\n      return _classPrivateMethodGet(_this7, _onPostCreatedCompleted, _onPostCreatedCompleted2).call(_this7, result, data);\n    },\n    isAdBlockEnabled: function isAdBlockEnabled(result, data) {\n      return _classPrivateMethodGet(_this7, _onIsAdBlockEnabled, _onIsAdBlockEnabled2).call(_this7, result, data);\n    }\n  };\n}\nfunction _onGetUserProfileCompleted2(status, data) {\n  if (status === 'ok') {\n    this._playerId = data.uid;\n    this._playerName = data.name;\n    this._playerPhotos = [data.pic50x50, data.pic128x128, data.pic_base];\n  }\n  this._isInitialized = true;\n  this._platformSdk.Client.call(_classPrivateFieldGet(this, _fields).hasAppPermission(PERMISSION_TYPES.VALUABLE_ACCESS), _classPrivateFieldGet(this, _callbacks).hasValueAccessCallback);\n}\nfunction _onLoginCompleted2(result, data) {\n  if (result === 'error') {\n    this._isPlayerAuthorized = false;\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER, data);\n    return;\n  }\n  this._isPlayerAuthorized = true;\n  this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n}\nfunction _onHasAccessValuePermissionCompleted2(result) {\n  this._hasValuableAccessPermission = !!result;\n  this._defaultStorageType = this._hasValuableAccessPermission ? _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL : _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.LOCAL_STORAGE;\n  if (!this._hasValuableAccessPermission && !this._hasValuableAccessPermissionShowed) {\n    var permissions = Object.values(PERMISSION_TYPES).map(function (value) {\n      return \"\\\"\".concat(value, \"\\\"\");\n    }).join(',');\n    this._platformSdk.UI.showPermissions(\"[\".concat(permissions, \"]\"));\n  } else {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n  }\n}\nfunction _onSetStatusPermissionCompleted2() {\n  this._hasValuableAccessPermissionShowed = true;\n  this._platformSdk.Client.call(_classPrivateFieldGet(this, _fields).hasAppPermission(PERMISSION_TYPES.VALUABLE_ACCESS), _classPrivateFieldGet(this, _callbacks).hasValueAccessCallback);\n}\nfunction _onLoadedRewarded2(result) {\n  if (result === 'error') {\n    this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n  } else {\n    this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n    this._platformSdk.UI.showLoadedAd();\n  }\n}\nfunction _onRewardedShown2(data) {\n  switch (data) {\n    case 'complete':\n      this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n      this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n      break;\n    case 'skip':\n      this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n      break;\n    case 'not_prepared':\n    case 'mp4_not_supported':\n    case 'app_in_fullscreen':\n    default:\n      this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n      break;\n  }\n}\nfunction _onInterstitialShown2(data) {\n  switch (data) {\n    case 'ready':\n    case 'ad_prepared':\n      break;\n    case 'ad_shown':\n      this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n      this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n      break;\n    case 'no_ads':\n    case 'call_limit':\n    case 'in_use':\n    case 'app_in_fullscreen':\n    default:\n      this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n      break;\n  }\n}\nfunction _onRequestedBanner2(result, data) {\n  if (result === 'error') {\n    this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n    return;\n  }\n  switch (data) {\n    case 'ad_loaded':\n      this._platformSdk.invokeUIMethod('showBannerAds');\n      break;\n    case 'banner_shown':\n    case 'ad_shown':\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.SHOWN);\n      break;\n    case 'hidden_by_user':\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.HIDDEN);\n      break;\n    default:\n      break;\n  }\n}\nfunction _onHiddenBanner2(data) {\n  if (!data) {\n    this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n  } else {\n    this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.HIDDEN);\n  }\n}\nfunction _onShownBanner2(data) {\n  if (!data) {\n    this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n  }\n}\nfunction _onSetBannerFormat2(result) {\n  if (result === 'error') {\n    this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n  } else {\n    this.showBanner(this._platformBannerOptions);\n  }\n}\nfunction _onInviteFriendsCompleted2(result) {\n  if (result === 'error') {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INVITE_FRIENDS);\n  } else {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INVITE_FRIENDS);\n  }\n}\nfunction _onGameRatingReceived2(result, data) {\n  if (result === 'error') {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE, data);\n  } else {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n  }\n}\nfunction _onJoinGroupRequested2(result, data) {\n  if (result === 'error') {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.JOIN_COMMUNITY, data);\n  } else {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.JOIN_COMMUNITY);\n  }\n}\nfunction _onPostCreatedCompleted2(result, data) {\n  if (result === 'error') {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CREATE_POST, data);\n  } else {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CREATE_POST);\n  }\n}\nfunction _onIsAdBlockEnabled2(result, data) {\n  if (result === 'ok') {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADBLOCK_DETECT, data === 'true');\n  } else {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADBLOCK_DETECT);\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OkPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/OkPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/PlatformBridgeBase.js":
/*!****************************************************!*\
  !*** ./src/platform-bridges/PlatformBridgeBase.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! event-lite */ \"./node_modules/event-lite/event-lite.js\");\n/* harmony import */ var event_lite__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(event_lite__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\n/* harmony import */ var _common_PromiseDecorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/PromiseDecorator */ \"./src/common/PromiseDecorator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar _promiseDecorators = /*#__PURE__*/new WeakMap();\nvar PlatformBridgeBase = /*#__PURE__*/function () {\n  function PlatformBridgeBase(options) {\n    var _this = this;\n    _classCallCheck(this, PlatformBridgeBase);\n    _defineProperty(this, \"_isInitialized\", false);\n    _defineProperty(this, \"_platformSdk\", null);\n    _defineProperty(this, \"_isPlayerAuthorized\", false);\n    _defineProperty(this, \"_playerId\", null);\n    _defineProperty(this, \"_playerName\", null);\n    _defineProperty(this, \"_playerPhotos\", []);\n    _defineProperty(this, \"_visibilityState\", null);\n    _defineProperty(this, \"_localStorage\", null);\n    _defineProperty(this, \"_defaultStorageType\", _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.LOCAL_STORAGE);\n    _defineProperty(this, \"_platformStorageCachedData\", null);\n    _defineProperty(this, \"_isBannerSupported\", false);\n    _defineProperty(this, \"_interstitialState\", null);\n    _defineProperty(this, \"_rewardedState\", null);\n    _defineProperty(this, \"_bannerState\", null);\n    _classPrivateFieldInitSpec(this, _promiseDecorators, {\n      writable: true,\n      value: {}\n    });\n    try {\n      this._localStorage = window.localStorage;\n    } catch (e) {\n      // Nothing we can do with it\n    }\n    this._visibilityState = document.visibilityState === 'visible' ? _constants__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_STATE.VISIBLE : _constants__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_STATE.HIDDEN;\n    document.addEventListener('visibilitychange', function () {\n      _this._visibilityState = document.visibilityState === 'visible' ? _constants__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_STATE.VISIBLE : _constants__WEBPACK_IMPORTED_MODULE_1__.VISIBILITY_STATE.HIDDEN;\n      _this.emit(_constants__WEBPACK_IMPORTED_MODULE_1__.EVENT_NAME.VISIBILITY_STATE_CHANGED, _this._visibilityState);\n    });\n    if (options) {\n      this._options = _objectSpread({}, options);\n    }\n  }\n  _createClass(PlatformBridgeBase, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_ID.MOCK;\n    }\n  }, {\n    key: \"platformSdk\",\n    get: function get() {\n      return this._platformSdk;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      var value = navigator.language;\n      if (typeof value === 'string') {\n        return value.substring(0, 2).toLowerCase();\n      }\n      return 'en';\n    }\n  }, {\n    key: \"platformPayload\",\n    get: function get() {\n      var url = new URL(window.location.href);\n      return url.searchParams.get('payload');\n    }\n  }, {\n    key: \"platformTld\",\n    get: function get() {\n      return null;\n    }\n\n    // game\n  }, {\n    key: \"visibilityState\",\n    get: function get() {\n      return this._visibilityState;\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isPlayerAuthorized\",\n    get: function get() {\n      return this._isPlayerAuthorized;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._playerId;\n    }\n  }, {\n    key: \"playerName\",\n    get: function get() {\n      return this._playerName;\n    }\n  }, {\n    key: \"playerPhotos\",\n    get: function get() {\n      return this._playerPhotos;\n    }\n\n    // storage\n  }, {\n    key: \"defaultStorageType\",\n    get: function get() {\n      return this._defaultStorageType;\n    }\n\n    // advertisement\n  }, {\n    key: \"isBannerSupported\",\n    get: function get() {\n      return this._isBannerSupported;\n    }\n  }, {\n    key: \"bannerState\",\n    get: function get() {\n      return this._bannerState;\n    }\n  }, {\n    key: \"interstitialState\",\n    get: function get() {\n      return this._interstitialState;\n    }\n  }, {\n    key: \"rewardedState\",\n    get: function get() {\n      return this._rewardedState;\n    }\n\n    // social\n  }, {\n    key: \"isInviteFriendsSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isJoinCommunitySupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isShareSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isCreatePostSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isAddToHomeScreenSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isAddToFavoritesSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isRateSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return true;\n    }\n\n    // device\n  }, {\n    key: \"deviceType\",\n    get: function get() {\n      if (navigator && navigator.userAgent) {\n        var userAgent = navigator.userAgent.toLowerCase();\n        if (/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(userAgent)) {\n          return _constants__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.MOBILE;\n        }\n        if (/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(userAgent)) {\n          return _constants__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.TABLET;\n        }\n      }\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.DEVICE_TYPE.DESKTOP;\n    }\n\n    // leaderboard\n  }, {\n    key: \"isLeaderboardSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isLeaderboardNativePopupSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isLeaderboardMultipleBoardsSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isLeaderboardSetScoreSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isLeaderboardGetScoreSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isLeaderboardGetEntriesSupported\",\n    get: function get() {\n      return false;\n    }\n\n    // payments\n  }, {\n    key: \"isPaymentsSupported\",\n    get: function get() {\n      return false;\n    }\n\n    // config\n  }, {\n    key: \"isRemoteConfigSupported\",\n    get: function get() {\n      return false;\n    }\n\n    // clipboard\n  }, {\n    key: \"isClipboardSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      return Promise.resolve();\n    }\n\n    // platform\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage() {\n      return Promise.resolve();\n    }\n  }, {\n    key: \"getServerTime\",\n    value: function getServerTime() {\n      return new Promise(function (resolve, reject) {\n        fetch('https://worldtimeapi.org/api/timezone/Etc/UTC').then(function (response) {\n          if (!response.ok) {\n            throw new Error('Network response was not ok');\n          }\n          return response.json();\n        }).then(function (data) {\n          resolve(data.unixtime * 1000);\n        })[\"catch\"](function () {\n          reject();\n        });\n      });\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      return Promise.reject();\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      switch (storageType) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.LOCAL_STORAGE:\n          {\n            return this._localStorage !== null;\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL:\n          {\n            return false;\n          }\n        default:\n          {\n            return false;\n          }\n      }\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      switch (storageType) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.LOCAL_STORAGE:\n          {\n            return this._localStorage !== null;\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL:\n          {\n            return false;\n          }\n        default:\n          {\n            return false;\n          }\n      }\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      switch (storageType) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.LOCAL_STORAGE:\n          {\n            if (this._localStorage) {\n              if (Array.isArray(key)) {\n                var values = [];\n                for (var i = 0; i < key.length; i++) {\n                  values.push(this._getDataFromLocalStorage(key[i], tryParseJson));\n                }\n                return Promise.resolve(values);\n              }\n              var value = this._getDataFromLocalStorage(key, tryParseJson);\n              return Promise.resolve(value);\n            }\n            return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR.STORAGE_NOT_SUPPORTED);\n          }\n        default:\n          {\n            return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR.STORAGE_NOT_SUPPORTED);\n          }\n      }\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      switch (storageType) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.LOCAL_STORAGE:\n          {\n            if (this._localStorage) {\n              if (Array.isArray(key)) {\n                for (var i = 0; i < key.length; i++) {\n                  this._setDataToLocalStorage(key[i], value[i]);\n                }\n                return Promise.resolve();\n              }\n              this._setDataToLocalStorage(key, value);\n              return Promise.resolve();\n            }\n            return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR.STORAGE_NOT_SUPPORTED);\n          }\n        default:\n          {\n            return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR.STORAGE_NOT_SUPPORTED);\n          }\n      }\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      switch (storageType) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.LOCAL_STORAGE:\n          {\n            if (this._localStorage) {\n              if (Array.isArray(key)) {\n                for (var i = 0; i < key.length; i++) {\n                  this._deleteDataFromLocalStorage(key[i]);\n                }\n                return Promise.resolve();\n              }\n              this._deleteDataFromLocalStorage(key);\n              return Promise.resolve();\n            }\n            return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR.STORAGE_NOT_SUPPORTED);\n          }\n        default:\n          {\n            return Promise.reject(_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR.STORAGE_NOT_SUPPORTED);\n          }\n      }\n    }\n\n    // advertisement\n  }, {\n    key: \"showBanner\",\n    value: function showBanner() {\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_1__.BANNER_STATE.FAILED);\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_1__.BANNER_STATE.HIDDEN);\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.FAILED);\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.FAILED);\n    }\n  }, {\n    key: \"checkAdBlock\",\n    value: function checkAdBlock() {\n      var fakeAd = document.createElement('div');\n      fakeAd.className = 'textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox';\n      fakeAd.style.position = 'absolute';\n      fakeAd.style.left = '-9999px';\n      fakeAd.style.width = '1px';\n      fakeAd.style.height = '1px';\n      document.body.appendChild(fakeAd);\n      var REQUEST_URL = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';\n      var REQUEST_CONFIG = {\n        method: 'HEAD',\n        mode: 'no-cors'\n      };\n      return new Promise(function (resolve) {\n        fetch(REQUEST_URL, REQUEST_CONFIG).then(function (response) {\n          if (response.redirected) {\n            resolve(response.redirected);\n          } else {\n            window.setTimeout(function () {\n              var _window$getComputedSt;\n              var result = fakeAd.offsetHeight === 0 || ((_window$getComputedSt = window.getComputedStyle(fakeAd)) === null || _window$getComputedSt === void 0 ? void 0 : _window$getComputedSt.display) === 'none';\n              resolve(result);\n              fakeAd.remove();\n            }, 100);\n          }\n        })[\"catch\"](function () {\n          resolve(true);\n        });\n      });\n    }\n\n    // social\n  }, {\n    key: \"inviteFriends\",\n    value: function inviteFriends() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"joinCommunity\",\n    value: function joinCommunity() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"share\",\n    value: function share() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"createPost\",\n    value: function createPost() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"addToHomeScreen\",\n    value: function addToHomeScreen() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"addToFavorites\",\n    value: function addToFavorites() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"rate\",\n    value: function rate() {\n      return Promise.reject();\n    }\n\n    // leaderboard\n  }, {\n    key: \"setLeaderboardScore\",\n    value: function setLeaderboardScore() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"getLeaderboardScore\",\n    value: function getLeaderboardScore() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"getLeaderboardEntries\",\n    value: function getLeaderboardEntries() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"showLeaderboardNativePopup\",\n    value: function showLeaderboardNativePopup() {\n      return Promise.reject();\n    }\n\n    // payments\n  }, {\n    key: \"purchase\",\n    value: function purchase() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"getPaymentsPurchases\",\n    value: function getPaymentsPurchases() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"getPaymentsCatalog\",\n    value: function getPaymentsCatalog() {\n      return Promise.reject();\n    }\n  }, {\n    key: \"consumePurchase\",\n    value: function consumePurchase() {\n      return Promise.reject();\n    }\n\n    // config\n  }, {\n    key: \"getRemoteConfig\",\n    value: function getRemoteConfig() {\n      return Promise.reject();\n    }\n\n    // clipboard\n  }, {\n    key: \"clipboardRead\",\n    value: function clipboardRead() {\n      if (window.navigator && window.navigator.clipboard) {\n        return window.navigator.clipboard.readText();\n      }\n      return Promise.reject();\n    }\n  }, {\n    key: \"clipboardWrite\",\n    value: function clipboardWrite(text) {\n      if (window.navigator && window.navigator.clipboard) {\n        return window.navigator.clipboard.writeText(text);\n      }\n      return Promise.reject();\n    }\n  }, {\n    key: \"_getDataFromLocalStorage\",\n    value: function _getDataFromLocalStorage(key, tryParseJson) {\n      var value = this._localStorage.getItem(key);\n      if (tryParseJson && typeof value === 'string') {\n        try {\n          value = JSON.parse(value);\n        } catch (e) {\n          // Nothing we can do with it\n        }\n      }\n      return value;\n    }\n  }, {\n    key: \"_setDataToLocalStorage\",\n    value: function _setDataToLocalStorage(key, value) {\n      this._localStorage.setItem(key, _typeof(value) === 'object' ? JSON.stringify(value) : value);\n    }\n  }, {\n    key: \"_deleteDataFromLocalStorage\",\n    value: function _deleteDataFromLocalStorage(key) {\n      this._localStorage.removeItem(key);\n    }\n  }, {\n    key: \"_setInterstitialState\",\n    value: function _setInterstitialState(state) {\n      // eslint-disable-next-line no-console\n      console.log({\n        state: state\n      });\n      if (this._interstitialState === state && state !== _constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.FAILED) {\n        return;\n      }\n      this._interstitialState = state;\n      this.emit(_constants__WEBPACK_IMPORTED_MODULE_1__.EVENT_NAME.INTERSTITIAL_STATE_CHANGED, this._interstitialState);\n    }\n  }, {\n    key: \"_setRewardedState\",\n    value: function _setRewardedState(state) {\n      if (this._rewardedState === state && state !== _constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.FAILED) {\n        return;\n      }\n      this._rewardedState = state;\n      this.emit(_constants__WEBPACK_IMPORTED_MODULE_1__.EVENT_NAME.REWARDED_STATE_CHANGED, this._rewardedState);\n    }\n  }, {\n    key: \"_setBannerState\",\n    value: function _setBannerState(state) {\n      if (this._bannerState === state && state !== _constants__WEBPACK_IMPORTED_MODULE_1__.BANNER_STATE.FAILED) {\n        return;\n      }\n      this._bannerState = state;\n      this.emit(_constants__WEBPACK_IMPORTED_MODULE_1__.EVENT_NAME.BANNER_STATE_CHANGED, this._bannerState);\n    }\n  }, {\n    key: \"_createPromiseDecorator\",\n    value: function _createPromiseDecorator(actionName) {\n      var promiseDecorator = new _common_PromiseDecorator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      _classPrivateFieldGet(this, _promiseDecorators)[actionName] = promiseDecorator;\n      return promiseDecorator;\n    }\n  }, {\n    key: \"_getPromiseDecorator\",\n    value: function _getPromiseDecorator(actionName) {\n      return _classPrivateFieldGet(this, _promiseDecorators)[actionName];\n    }\n  }, {\n    key: \"_resolvePromiseDecorator\",\n    value: function _resolvePromiseDecorator(id, data) {\n      if (_classPrivateFieldGet(this, _promiseDecorators)[id]) {\n        _classPrivateFieldGet(this, _promiseDecorators)[id].resolve(data);\n        delete _classPrivateFieldGet(this, _promiseDecorators)[id];\n      }\n    }\n  }, {\n    key: \"_rejectPromiseDecorator\",\n    value: function _rejectPromiseDecorator(id, error) {\n      if (_classPrivateFieldGet(this, _promiseDecorators)[id]) {\n        _classPrivateFieldGet(this, _promiseDecorators)[id].reject(error);\n        delete _classPrivateFieldGet(this, _promiseDecorators)[id];\n      }\n    }\n  }]);\n  return PlatformBridgeBase;\n}();\nevent_lite__WEBPACK_IMPORTED_MODULE_0___default().mixin(PlatformBridgeBase.prototype);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlatformBridgeBase);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/PlatformBridgeBase.js?");

/***/ }),

/***/ "./src/platform-bridges/PlayDeckPlatformBridge.js":
/*!********************************************************!*\
  !*** ./src/platform-bridges/PlayDeckPlatformBridge.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\nvar _language = /*#__PURE__*/new WeakMap();\nvar _urlParams = /*#__PURE__*/new WeakMap();\nvar PlayDeckPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(PlayDeckPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(PlayDeckPlatformBridge);\n  function PlayDeckPlatformBridge() {\n    var _this;\n    _classCallCheck(this, PlayDeckPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _language, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _urlParams, {\n      writable: true,\n      value: void 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_defaultStorageType\", _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL);\n    _defineProperty(_assertThisInitialized(_this), \"_isPlayerAuthorized\", true);\n    return _this;\n  }\n  _createClass(PlayDeckPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_ID.PLAYDECK;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      if (_classPrivateFieldGet(this, _language)) {\n        return _classPrivateFieldGet(this, _language);\n      }\n      return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"platformLanguage\", this);\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // social\n  }, {\n    key: \"isShareSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // payments\n  }, {\n    key: \"isPaymentsSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.INITIALIZE);\n        var getUserProfileHandler = function getUserProfileHandler(_ref) {\n          var data = _ref.data;\n          if (!data || !data.playdeck) {\n            return;\n          }\n          var pdData = data.playdeck;\n          if (pdData.method === 'getUserProfile') {\n            var profile = pdData.value;\n            _this2._playerId = profile.telegramId;\n            _this2._playerPhotos = [profile.avatar];\n            _this2._playerName = profile.username;\n            _classPrivateFieldSet(_this2, _language, profile.locale);\n            _classPrivateFieldSet(_this2, _urlParams, profile.params);\n            window.removeEventListener('message', getUserProfileHandler);\n            _this2._isInitialized = true;\n            _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.INITIALIZE);\n          }\n        };\n        window.addEventListener('message', getUserProfileHandler);\n        window.parent.postMessage({\n          playdeck: {\n            method: 'getUserProfile'\n          }\n        }, '*');\n      }\n      return promiseDecorator.promise;\n    }\n\n    // platform\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      switch (message) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.GAME_OVER:\n          {\n            window.parent.postMessage({\n              playdeck: {\n                method: 'gameEnd'\n              }\n            }, '*');\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.GAME_READY:\n          {\n            window.parent.postMessage({\n              playdeck: {\n                method: 'loading',\n                value: 100\n              }\n            }, '*');\n            return Promise.resolve();\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"sendMessage\", this).call(this, message);\n          }\n      }\n    }\n\n    // advertisement\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this3 = this;\n      var showAdHandler = function showAdHandler(_ref2) {\n        var data = _ref2.data;\n        var playdeck = data === null || data === void 0 ? void 0 : data.playdeck;\n        if (!playdeck) {\n          return;\n        }\n\n        // ¯\\_(ツ)_/¯ https://github.com/ton-play/playdeck-integration-guide/wiki/7.-Advertising-Monetization\n        // Ad events can be changed anytime but we are guarantee that rewardedAd and errAd events will always exists.\n        switch (playdeck.method) {\n          case 'startAd':\n            _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.OPENED);\n            break;\n          case 'rewardedAd':\n          case 'skipAd':\n            _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.CLOSED);\n            window.removeEventListener('message', showAdHandler);\n            break;\n          case 'errAd':\n          case 'notFoundAd':\n            _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.FAILED);\n            window.removeEventListener('message', showAdHandler);\n            break;\n          default:\n            break;\n        }\n      };\n      window.addEventListener('message', showAdHandler);\n      window.parent.postMessage({\n        playdeck: {\n          method: 'showAd'\n        }\n      }, '*');\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this4 = this;\n      var showAdHandler = function showAdHandler(_ref3) {\n        var data = _ref3.data;\n        var playdeck = data === null || data === void 0 ? void 0 : data.playdeck;\n        if (!playdeck) {\n          return;\n        }\n\n        // ¯\\_(ツ)_/¯ https://github.com/ton-play/playdeck-integration-guide/wiki/7.-Advertising-Monetization\n        // Ad events can be changed anytime but we are guarantee that rewardedAd and errAd events will always exists.\n        switch (playdeck.method) {\n          case 'startAd':\n            _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.OPENED);\n            break;\n          case 'rewardedAd':\n            _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.REWARDED);\n            _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.CLOSED);\n            window.removeEventListener('message', showAdHandler);\n            break;\n          case 'skipAd':\n            _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.CLOSED);\n            window.removeEventListener('message', showAdHandler);\n            break;\n          case 'errAd':\n          case 'notFoundAd':\n            _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.FAILED);\n            window.removeEventListener('message', showAdHandler);\n            break;\n          default:\n            break;\n        }\n      };\n      window.addEventListener('message', showAdHandler);\n      window.parent.postMessage({\n        playdeck: {\n          method: 'showAd'\n        }\n      }, '*');\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      return Promise.resolve();\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          var result = {};\n          var keys = Array.isArray(key) ? key : [key];\n          var getDataHandler = function getDataHandler(_ref4) {\n            var data = _ref4.data;\n            if (!data || !data.playdeck) {\n              return;\n            }\n            var pdData = data.playdeck;\n            if (pdData.method === 'getData') {\n              result[pdData.key] = pdData.value.data;\n            }\n            if (Object.keys(result).length === keys.length) {\n              window.removeEventListener('message', getDataHandler);\n              var values = Array.isArray(key) ? key.map(function (k) {\n                return result[k];\n              }) : result[key];\n              resolve(values);\n            }\n          };\n          window.addEventListener('message', getDataHandler);\n          keys.forEach(function (k) {\n            return window.parent.postMessage({\n              playdeck: {\n                method: 'getData',\n                key: k\n              }\n            }, '*');\n          });\n        });\n      }\n      return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          var keys = Array.isArray(key) ? key : [key];\n          var values = Array.isArray(value) ? value : [value];\n          var valuesString = values.map(function (v) {\n            if (typeof v !== 'string') {\n              return JSON.stringify(v);\n            }\n            return v;\n          });\n          keys.forEach(function (k, i) {\n            return window.parent.postMessage({\n              playdeck: {\n                method: 'setData',\n                key: k,\n                value: valuesString[i]\n              }\n            }, '*');\n          });\n          resolve();\n        });\n      }\n      return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          var keys = Array.isArray(key) ? key : [key];\n          keys.forEach(function (k) {\n            return window.parent.postMessage({\n              playdeck: {\n                method: 'setData',\n                key: k,\n                value: ''\n              }\n            }, '*');\n          });\n          resolve();\n        });\n      }\n      return _get(_getPrototypeOf(PlayDeckPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // social\n  }, {\n    key: \"share\",\n    value: function share() {\n      window.parent.postMessage({\n        playdeck: {\n          method: 'customShare',\n          value: _classPrivateFieldGet(this, _urlParams)\n        }\n      }, '*');\n    }\n\n    // payments\n  }, {\n    key: \"purchase\",\n    value: function purchase(options) {\n      var _this5 = this;\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.PURCHASE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.PURCHASE);\n        var requestPaymentHandler = function requestPaymentHandler(_ref5) {\n          var data = _ref5.data;\n          var playdeck = data === null || data === void 0 ? void 0 : data.playdeck;\n          if (!playdeck) return;\n          if (playdeck.method === 'requestPayment') {\n            // eslint-disable-next-line no-console\n            console.log(playdeck.value.url);\n            window.parent.postMessage({\n              playdeck: {\n                method: 'openTelegramLink',\n                value: playdeck.value.url\n              }\n            }, '*');\n            window.removeEventListener('message', requestPaymentHandler);\n          }\n        };\n        var invoiceClosedHandler = function invoiceClosedHandler(_ref6) {\n          var data = _ref6.data;\n          var playdeck = data === null || data === void 0 ? void 0 : data.playdeck;\n          if (!playdeck) return;\n          if (playdeck.method === 'invoiceClosed') {\n            if (playdeck.value.status === 'paid') {\n              window.removeEventListener('message', invoiceClosedHandler);\n              _this5._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.PURCHASE, playdeck.value);\n            } else if (playdeck.value.status === 'cancelled' || playdeck.value.status === 'failed') {\n              window.removeEventListener('message', invoiceClosedHandler);\n              _this5._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.PURCHASE, playdeck.value);\n            }\n          }\n        };\n        window.addEventListener('message', requestPaymentHandler);\n        window.addEventListener('message', invoiceClosedHandler);\n        window.parent.postMessage({\n          playdeck: {\n            method: 'requestPayment',\n            value: options\n          }\n        }, '*');\n      }\n      return promiseDecorator.promise;\n    }\n  }]);\n  return PlayDeckPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlayDeckPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/PlayDeckPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/PlaygamaPlatformBridge.js":
/*!********************************************************!*\
  !*** ./src/platform-bridges/PlaygamaPlatformBridge.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://developer.playgama.com/sdk/v1.js';\nvar PlaygamaPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(PlaygamaPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(PlaygamaPlatformBridge);\n  function PlaygamaPlatformBridge() {\n    _classCallCheck(this, PlaygamaPlatformBridge);\n    return _super.apply(this, arguments);\n  }\n  _createClass(PlaygamaPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.PLAYGAMA;\n    }\n\n    // social\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.waitFor)('PLAYGAMA_SDK').then(function () {\n            _this._platformSdk = window.PLAYGAMA_SDK;\n            _this._isInitialized = true;\n            _this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this2 = this;\n      this._platformSdk.advService.showInterstitial({\n        onOpen: function onOpen() {\n          _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n        },\n        onEmpty: function onEmpty() {\n          _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        },\n        onClose: function onClose() {\n          _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n        },\n        onError: function onError() {\n          _this2._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        }\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this3 = this;\n      this._platformSdk.advService.showRewarded({\n        onOpen: function onOpen() {\n          _this3._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n        },\n        onRewarded: function onRewarded() {\n          _this3._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n        },\n        onEmpty: function onEmpty() {\n          _this3._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        },\n        onClose: function onClose() {\n          _this3._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n        },\n        onError: function onError() {\n          _this3._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        }\n      });\n    }\n  }]);\n  return PlaygamaPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlaygamaPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/PlaygamaPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/TelegramPlatformBridge.js":
/*!********************************************************!*\
  !*** ./src/platform-bridges/TelegramPlatformBridge.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://telegram.org/js/telegram-web-app.js';\nvar ADS_SDK_URL = 'https://sad.adsgram.ai/js/sad.min.js';\nvar _platform = /*#__PURE__*/new WeakMap();\nvar _adsController = /*#__PURE__*/new WeakMap();\nvar _rewardedListeners = /*#__PURE__*/new WeakMap();\nvar _interstitialListeners = /*#__PURE__*/new WeakMap();\nvar TelegramPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(TelegramPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(TelegramPlatformBridge);\n  function TelegramPlatformBridge() {\n    var _this;\n    _classCallCheck(this, TelegramPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_defaultStorageType\", _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL);\n    _defineProperty(_assertThisInitialized(_this), \"_isPlayerAuthorized\", true);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _platform, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _adsController, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _rewardedListeners, {\n      writable: true,\n      value: {\n        onStart: function onStart() {\n          return _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n        },\n        onSkip: function onSkip() {\n          return _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n        },\n        onReward: function onReward() {\n          return _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n        },\n        onError: function onError() {\n          return _this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        }\n      }\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _interstitialListeners, {\n      writable: true,\n      value: {\n        onStart: function onStart() {\n          return _this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n        },\n        onSkip: function onSkip() {\n          return _this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n        },\n        onError: function onError() {\n          return _this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TelegramPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.TELEGRAM;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      if (this._platformSdk) {\n        return this._platformSdk.initDataUnsafe.user.language_code;\n      }\n      return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"platformLanguage\", this);\n    }\n\n    // device\n  }, {\n    key: \"deviceType\",\n    get: function get() {\n      switch (_classPrivateFieldGet(this, _platform)) {\n        case 'android':\n        case 'android_x':\n        case 'ios':\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.MOBILE;\n          }\n        case 'tdesktop':\n        case 'unigram':\n        case 'macos':\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.DESKTOP;\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"deviceType\", this);\n          }\n      }\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n          _this2._platformSdk = window.Telegram.WebApp;\n          var initDataUnsafe = _this2._platformSdk.initDataUnsafe;\n          var userData = initDataUnsafe.user;\n          _this2._playerId = userData.id;\n          _this2._playerName = [userData.first_name, userData.last_name].filter(Boolean).join(' ');\n          _this2._playerPhotos = [userData.photo_url];\n          _classPrivateFieldSet(_this2, _platform, _this2._platformSdk.platform);\n          _this2._isInitialized = true;\n          if (_this2._options && _this2._options.adsgramBlockId) {\n            (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(ADS_SDK_URL).then(function () {\n              _classPrivateFieldSet(_this2, _adsController, window.Adsgram.init({\n                blockId: _this2._options.adsgramBlockId\n              }));\n            })[\"finally\"](function () {\n              _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n            });\n          } else {\n            _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n          }\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // platform\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      switch (message) {\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_MESSAGE.GAME_READY:\n          {\n            this._platformSdk.ready();\n            return Promise.resolve();\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"sendMessage\", this).call(this, message);\n          }\n      }\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this3 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          if (Array.isArray(key)) {\n            _this3._platformSdk.CloudStorage.getItems(key, function (error, values) {\n              if (error) {\n                reject(error);\n                return;\n              }\n              var result = [];\n              key.forEach(function (k) {\n                var value = values[k];\n                if (tryParseJson && typeof value === 'string') {\n                  try {\n                    value = JSON.parse(value);\n                  } catch (e) {\n                    // Nothing we can do with it\n                  }\n                }\n                result.push(value);\n              });\n              resolve(result);\n            });\n            return;\n          }\n          _this3._platformSdk.CloudStorage.getItem(key, function (error, value) {\n            if (error) reject(error);\n            var result = value;\n            if (tryParseJson && typeof result === 'string') {\n              try {\n                result = JSON.parse(result);\n              } catch (e) {\n                // Nothing we can do with it\n              }\n            }\n            resolve(result);\n          });\n        });\n      }\n      return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this4 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          var keys = Array.isArray(key) ? key : [key];\n          var values = Array.isArray(value) ? value : [value];\n          var valuesString = values.map(function (v) {\n            if (typeof v !== 'string') {\n              return JSON.stringify(v);\n            }\n            return v;\n          });\n          keys.forEach(function (k, i) {\n            return _this4._platformSdk.CloudStorage.setItem(k, valuesString[i]);\n          });\n          resolve();\n        });\n      }\n      return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this5 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve) {\n          var keys = Array.isArray(key) ? key : [key];\n          keys.forEach(function (k) {\n            return _this5._platformSdk.CloudStorage.removeItem(k);\n          });\n          resolve();\n        });\n      }\n      return _get(_getPrototypeOf(TelegramPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this6 = this;\n      if (!_classPrivateFieldGet(this, _adsController)) {\n        this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        return;\n      }\n      _classPrivateFieldGet(this, _adsController).addEventListener('onStart', _classPrivateFieldGet(this, _interstitialListeners).onStart);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onSkip', _classPrivateFieldGet(this, _interstitialListeners).onSkip);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onError', _classPrivateFieldGet(this, _interstitialListeners).onError);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onBannerNotFound', _classPrivateFieldGet(this, _interstitialListeners).onError);\n      _classPrivateFieldGet(this, _adsController).show()[\"finally\"](function () {\n        _classPrivateFieldGet(_this6, _adsController).removeEventListener('onStart', _classPrivateFieldGet(_this6, _interstitialListeners).onStart);\n        _classPrivateFieldGet(_this6, _adsController).removeEventListener('onSkip', _classPrivateFieldGet(_this6, _interstitialListeners).onSkip);\n        _classPrivateFieldGet(_this6, _adsController).removeEventListener('onError', _classPrivateFieldGet(_this6, _interstitialListeners).onError);\n        _classPrivateFieldGet(_this6, _adsController).removeEventListener('onBannerNotFound', _classPrivateFieldGet(_this6, _interstitialListeners).onError);\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this7 = this;\n      if (!_classPrivateFieldGet(this, _adsController)) {\n        this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        return;\n      }\n      _classPrivateFieldGet(this, _adsController).addEventListener('onStart', _classPrivateFieldGet(this, _rewardedListeners).onStart);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onSkip', _classPrivateFieldGet(this, _rewardedListeners).onSkip);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onReward', _classPrivateFieldGet(this, _rewardedListeners).onReward);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onError', _classPrivateFieldGet(this, _rewardedListeners).onError);\n      _classPrivateFieldGet(this, _adsController).addEventListener('onBannerNotFound', _classPrivateFieldGet(this, _rewardedListeners).onError);\n      _classPrivateFieldGet(this, _adsController).show()[\"finally\"](function () {\n        _classPrivateFieldGet(_this7, _adsController).addEventListener('onStart', _classPrivateFieldGet(_this7, _rewardedListeners).onStart);\n        _classPrivateFieldGet(_this7, _adsController).addEventListener('onSkip', _classPrivateFieldGet(_this7, _rewardedListeners).onSkip);\n        _classPrivateFieldGet(_this7, _adsController).addEventListener('onReward', _classPrivateFieldGet(_this7, _rewardedListeners).onReward);\n        _classPrivateFieldGet(_this7, _adsController).addEventListener('onError', _classPrivateFieldGet(_this7, _rewardedListeners).onError);\n        _classPrivateFieldGet(_this7, _adsController).addEventListener('onBannerNotFound', _classPrivateFieldGet(_this7, _rewardedListeners).onError);\n      });\n    }\n\n    // clipboard\n  }, {\n    key: \"clipboardRead\",\n    value: function clipboardRead() {\n      var _this8 = this;\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_READ);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_READ);\n        this._platformSdk.readTextFromClipboard(function (text) {\n          if (text) {\n            _this8._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_READ, text);\n          } else {\n            _this8._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_READ);\n          }\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }]);\n  return TelegramPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TelegramPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/TelegramPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/VkPlatformBridge.js":
/*!**************************************************!*\
  !*** ./src/platform-bridges/VkPlatformBridge.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js';\nvar _platform = /*#__PURE__*/new WeakMap();\nvar _sendRequestToVKBridge = /*#__PURE__*/new WeakSet();\nvar VkPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(VkPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(VkPlatformBridge);\n  function VkPlatformBridge() {\n    var _this;\n    _classCallCheck(this, VkPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _sendRequestToVKBridge);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _platform, {\n      writable: true,\n      value: void 0\n    });\n    return _this;\n  }\n  _createClass(VkPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.VK;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      var url = new URL(window.location.href);\n      if (url.searchParams.has('language')) {\n        var languageString = url.searchParams.get('language');\n        var languageCode = 0;\n        try {\n          languageCode = parseInt(languageString, 10);\n        } catch (e) {\n          languageCode = 0;\n        }\n        switch (languageCode) {\n          case 0:\n            {\n              return 'ru';\n            }\n          case 1:\n            {\n              return 'uk';\n            }\n          case 2:\n            {\n              return 'be';\n            }\n          case 3:\n            {\n              return 'en';\n            }\n          default:\n            {\n              return 'ru';\n            }\n        }\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"platformLanguage\", this);\n    }\n  }, {\n    key: \"platformPayload\",\n    get: function get() {\n      var url = new URL(window.location.href);\n      if (url.searchParams.has('hash')) {\n        return url.searchParams.get('hash');\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"platformPayload\", this);\n    }\n\n    // device\n  }, {\n    key: \"deviceType\",\n    get: function get() {\n      switch (_classPrivateFieldGet(this, _platform)) {\n        case 'html5_ios':\n        case 'html5_android':\n        case 'html5_mobile':\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.MOBILE;\n          }\n        case 'web':\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.DESKTOP;\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"deviceType\", this);\n          }\n      }\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isPlayerAuthorized\",\n    get: function get() {\n      return true;\n    }\n\n    // social\n  }, {\n    key: \"isInviteFriendsSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isJoinCommunitySupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isShareSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isCreatePostSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isAddToHomeScreenSupported\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _platform) === 'html5_android';\n    }\n  }, {\n    key: \"isAddToFavoritesSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // leaderboard\n  }, {\n    key: \"isLeaderboardSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isLeaderboardNativePopupSupported\",\n    get: function get() {\n      return this.deviceType === _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.MOBILE;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        var url = new URL(window.location.href);\n        if (url.searchParams.has('platform')) {\n          _classPrivateFieldSet(this, _platform, url.searchParams.get('platform'));\n        }\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.waitFor)('vkBridge').then(function () {\n            _this2._platformSdk = window.vkBridge;\n            _this2._platformSdk.send('VKWebAppInit').then(function () {\n              _this2._isBannerSupported = true;\n              _this2._platformSdk.send('VKWebAppGetUserInfo').then(function (data) {\n                if (data) {\n                  _this2._playerId = data.id;\n                  _this2._playerName = \"\".concat(data.first_name, \" \").concat(data.last_name);\n                  if (data.photo_100) {\n                    _this2._playerPhotos.push(data.photo_100);\n                  }\n                  if (data.photo_200) {\n                    _this2._playerPhotos.push(data.photo_200);\n                  }\n                  if (data.photo_max_orig) {\n                    _this2._playerPhotos.push(data.photo_max_orig);\n                  }\n                }\n              })[\"finally\"](function () {\n                _this2._isInitialized = true;\n                _this2._defaultStorageType = _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL;\n                _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n              });\n            });\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      return Promise.resolve();\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this3 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          var keys = Array.isArray(key) ? key : [key];\n          _this3._platformSdk.send('VKWebAppStorageGet', {\n            keys: keys\n          }).then(function (data) {\n            if (Array.isArray(key)) {\n              var values = [];\n              keys.forEach(function (item) {\n                var valueIndex = data.keys.findIndex(function (d) {\n                  return d.key === item;\n                });\n                if (valueIndex < 0) {\n                  values.push(null);\n                  return;\n                }\n                if (data.keys[valueIndex].value === '') {\n                  values.push(null);\n                  return;\n                }\n                var value = data.keys[valueIndex].value;\n                if (tryParseJson) {\n                  try {\n                    value = JSON.parse(data.keys[valueIndex].value);\n                  } catch (e) {\n                    // keep value as it is\n                  }\n                }\n                values.push(value);\n              });\n              resolve(values);\n              return;\n            }\n            if (data.keys[0].value === '') {\n              resolve(null);\n              return;\n            }\n            var value = data.keys[0].value;\n            if (tryParseJson) {\n              try {\n                value = JSON.parse(data.keys[0].value);\n              } catch (e) {\n                // keep value as it is\n              }\n            }\n            resolve(value);\n          })[\"catch\"](function (error) {\n            if (error && error.error_data && error.error_data.error_reason) {\n              reject(error.error_data.error_reason);\n            } else {\n              reject();\n            }\n          });\n        });\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this4 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (Array.isArray(key)) {\n          var promises = [];\n          for (var i = 0; i < key.length; i++) {\n            var _data = {\n              key: key[i],\n              value: value[i]\n            };\n            if (typeof value[i] !== 'string') {\n              _data.value = JSON.stringify(value[i]);\n            }\n            promises.push(this._platformSdk.send('VKWebAppStorageSet', _data));\n          }\n          return Promise.all(promises);\n        }\n        var data = {\n          key: key,\n          value: value\n        };\n        if (typeof value !== 'string') {\n          data.value = JSON.stringify(value);\n        }\n        return new Promise(function (resolve, reject) {\n          _this4._platformSdk.send('VKWebAppStorageSet', data).then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            if (error && error.error_data && error.error_data.error_reason) {\n              reject(error.error_data.error_reason);\n            } else {\n              reject();\n            }\n          });\n        });\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (Array.isArray(key)) {\n          var promises = [];\n          for (var i = 0; i < key.length; i++) {\n            promises.push(this.setDataToStorage(key[i], '', storageType));\n          }\n          return Promise.all(promises);\n        }\n        return this.setDataToStorage(key, '', storageType);\n      }\n      return _get(_getPrototypeOf(VkPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showBanner\",\n    value: function showBanner(options) {\n      var _this5 = this;\n      var position = 'bottom';\n      var layoutType = 'resize';\n      var canClose = false;\n      if (options) {\n        if (typeof options.position === 'string') {\n          position = options.position;\n        }\n        if (typeof options.layoutType === 'string') {\n          layoutType = options.layoutType;\n        }\n        if (typeof options.canClose === 'boolean') {\n          canClose = options.canClose;\n        }\n      }\n      this._platformSdk.send('VKWebAppShowBannerAd', {\n        banner_location: position,\n        layout_type: layoutType,\n        can_close: canClose\n      }).then(function (data) {\n        if (data.result) {\n          _this5._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.SHOWN);\n        } else {\n          _this5._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n        }\n      })[\"catch\"](function () {\n        _this5._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n      });\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      var _this6 = this;\n      this._platformSdk.send('VKWebAppHideBannerAd').then(function (data) {\n        if (data.result) {\n          _this6._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.HIDDEN);\n        }\n      });\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this7 = this;\n      this._platformSdk.send('VKWebAppCheckNativeAds', {\n        ad_format: 'interstitial'\n      }).then(function (data) {\n        if (data.result) {\n          _this7._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n        }\n      })[\"finally\"](function () {\n        _this7._platformSdk.send('VKWebAppShowNativeAds', {\n          ad_format: 'interstitial'\n        }).then(function (data) {\n          _this7._setInterstitialState(data.result ? _constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED : _constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        })[\"catch\"](function () {\n          _this7._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        });\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this8 = this;\n      this._platformSdk.send('VKWebAppCheckNativeAds', {\n        ad_format: 'reward',\n        use_waterfall: true\n      }).then(function (data) {\n        if (data.result) {\n          _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n        }\n      })[\"finally\"](function () {\n        _this8._platformSdk.send('VKWebAppShowNativeAds', {\n          ad_format: 'reward',\n          use_waterfall: true\n        }).then(function (data) {\n          if (data.result) {\n            _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n            _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n          } else {\n            _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n          }\n        })[\"catch\"](function () {\n          _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        });\n      });\n    }\n\n    // social\n  }, {\n    key: \"inviteFriends\",\n    value: function inviteFriends() {\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INVITE_FRIENDS, 'VKWebAppShowInviteBox', {}, 'success');\n    }\n  }, {\n    key: \"joinCommunity\",\n    value: function joinCommunity(options) {\n      if (!options || !options.groupId) {\n        return Promise.reject();\n      }\n      var groupId = options.groupId;\n      if (typeof groupId === 'string') {\n        groupId = parseInt(groupId, 10);\n        if (Number.isNaN(groupId)) {\n          return Promise.reject();\n        }\n      }\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.JOIN_COMMUNITY, 'VKWebAppJoinGroup', {\n        group_id: groupId\n      }).then(function () {\n        window.open(\"https://vk.com/public\".concat(groupId));\n      });\n    }\n  }, {\n    key: \"share\",\n    value: function share(options) {\n      var parameters = {};\n      if (options && options.link) {\n        parameters.link = options.link;\n      }\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.SHARE, 'VKWebAppShare', parameters, 'type');\n    }\n  }, {\n    key: \"createPost\",\n    value: function createPost(options) {\n      var parameters = {};\n      if (options && options.message) {\n        parameters.message = options.message;\n      }\n      if (options && options.attachments) {\n        parameters.attachments = options.attachments;\n      }\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CREATE_POST, 'VKWebAppShowWallPostBox', parameters, 'post_id');\n    }\n  }, {\n    key: \"addToHomeScreen\",\n    value: function addToHomeScreen() {\n      if (!this.isAddToHomeScreenSupported) {\n        return Promise.reject();\n      }\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_HOME_SCREEN, 'VKWebAppAddToHomeScreen');\n    }\n  }, {\n    key: \"addToFavorites\",\n    value: function addToFavorites() {\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_FAVORITES, 'VKWebAppAddToFavorites');\n    }\n\n    // leaderboard\n  }, {\n    key: \"showLeaderboardNativePopup\",\n    value: function showLeaderboardNativePopup(options) {\n      if (!this.isLeaderboardNativePopupSupported) {\n        return Promise.reject();\n      }\n      if (!options || !options.userResult) {\n        return Promise.reject();\n      }\n      var data = {\n        user_result: options.userResult\n      };\n      if (typeof options.global === 'boolean') {\n        data.global = options.global ? 1 : 0;\n      }\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.SHOW_LEADERBOARD_NATIVE_POPUP, 'VKWebAppShowLeaderBoardBox', data);\n    }\n\n    // clipboard\n  }, {\n    key: \"clipboardWrite\",\n    value: function clipboardWrite(text) {\n      return _classPrivateMethodGet(this, _sendRequestToVKBridge, _sendRequestToVKBridge2).call(this, _constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_WRITE, 'VKWebAppCopyText', {\n        text: text\n      });\n    }\n  }]);\n  return VkPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _sendRequestToVKBridge2(actionName, vkMethodName) {\n  var _this9 = this;\n  var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var responseSuccessKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'result';\n  var promiseDecorator = this._getPromiseDecorator(actionName);\n  if (!promiseDecorator) {\n    promiseDecorator = this._createPromiseDecorator(actionName);\n    this._platformSdk.send(vkMethodName, parameters).then(function (data) {\n      if (data[responseSuccessKey]) {\n        _this9._resolvePromiseDecorator(actionName);\n        return;\n      }\n      _this9._rejectPromiseDecorator(actionName);\n    })[\"catch\"](function (error) {\n      _this9._rejectPromiseDecorator(actionName, error);\n    });\n  }\n  return promiseDecorator.promise;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VkPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/VkPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/VkPlayPlatformBridge.js":
/*!******************************************************!*\
  !*** ./src/platform-bridges/VkPlayPlatformBridge.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar _currentAdvertisementIsRewarded = /*#__PURE__*/new WeakMap();\nvar _onShowAdsCompleted = /*#__PURE__*/new WeakSet();\nvar _onGetLoginStatusCompleted = /*#__PURE__*/new WeakSet();\nvar _onGetUserProfileCompleted = /*#__PURE__*/new WeakSet();\nvar _onRegisterUserCompleted = /*#__PURE__*/new WeakSet();\nvar _onGetGameInventoryItemsCompleted = /*#__PURE__*/new WeakSet();\nvar _onPaymentReceived = /*#__PURE__*/new WeakSet();\nvar VkPlayPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(VkPlayPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(VkPlayPlatformBridge);\n  function VkPlayPlatformBridge() {\n    var _this;\n    _classCallCheck(this, VkPlayPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onPaymentReceived);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onGetGameInventoryItemsCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onRegisterUserCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onGetUserProfileCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onGetLoginStatusCompleted);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _onShowAdsCompleted);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _currentAdvertisementIsRewarded, {\n      writable: true,\n      value: false\n    });\n    return _this;\n  }\n  _createClass(VkPlayPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.VK_PLAY;\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // clipboard\n  }, {\n    key: \"isClipboardSupported\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        if (!this._options || !this._options.gameId) {\n          this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE, _constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.VK_PLAY_GAME_ID_IS_UNDEFINED);\n        } else {\n          var gameId = this._options.gameId;\n          var options = {\n            appid: gameId,\n            userProfileCallback: function userProfileCallback(data) {\n              return _classPrivateMethodGet(_this2, _onGetUserProfileCompleted, _onGetUserProfileCompleted2).call(_this2, data);\n            },\n            getLoginStatusCallback: function getLoginStatusCallback(data) {\n              return _classPrivateMethodGet(_this2, _onGetLoginStatusCompleted, _onGetLoginStatusCompleted2).call(_this2, data);\n            },\n            registerUserCallback: function registerUserCallback(data) {\n              return _classPrivateMethodGet(_this2, _onRegisterUserCompleted, _onRegisterUserCompleted2).call(_this2, data);\n            },\n            adsCallback: function adsCallback(data) {\n              return _classPrivateMethodGet(_this2, _onShowAdsCompleted, _onShowAdsCompleted2).call(_this2, data);\n            },\n            getGameInventoryItemsCallback: function getGameInventoryItemsCallback(data) {\n              return _classPrivateMethodGet(_this2, _onGetGameInventoryItemsCompleted, _onGetGameInventoryItemsCompleted2).call(_this2, data);\n            },\n            paymentReceivedCallback: function paymentReceivedCallback(data) {\n              return _classPrivateMethodGet(_this2, _onPaymentReceived, _onPaymentReceived2).call(_this2, data);\n            }\n          };\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(\"https://vkplay.ru/app/\".concat(gameId, \"/static/mailru.core.js\")).then(function () {\n            (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.waitFor)('iframeApi').then(function () {\n              window.iframeApi(options).then(function (sdk) {\n                _this2._platformSdk = sdk;\n                _this2._platformSdk.getLoginStatus();\n              });\n            });\n          });\n        }\n      }\n      return promiseDecorator.promise;\n    }\n\n    // advertisement\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this3 = this;\n      _classPrivateFieldSet(this, _currentAdvertisementIsRewarded, false);\n      this._platformSdk.showAds({\n        interstitial: true\n      }).then(function () {\n        _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n      })[\"catch\"](function () {\n        _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this4 = this;\n      _classPrivateFieldSet(this, _currentAdvertisementIsRewarded, true);\n      this._platformSdk.showAds({\n        interstitial: false\n      }).then(function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n      })[\"catch\"](function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n      });\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      if (this._isPlayerAuthorized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n        this._platformSdk.registerUser();\n      }\n      return promiseDecorator;\n    }\n\n    // payments\n  }, {\n    key: \"getPaymentsCatalog\",\n    value: function getPaymentsCatalog() {\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG);\n        this._platformSdk.getGameInventoryItems();\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"purchase\",\n    value: function purchase(options) {\n      if (!options) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE);\n        this._platformSdk.paymentFrameItem(options);\n      }\n      return promiseDecorator.promise;\n    }\n  }]);\n  return VkPlayPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _onShowAdsCompleted2(data) {\n  var isFailed = data.code && data.code === 'AdsNotFound';\n  switch (data.type) {\n    case 'adCompleted':\n      if (_classPrivateFieldGet(this, _currentAdvertisementIsRewarded)) {\n        this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n        this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n      } else {\n        this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n      }\n      break;\n    case 'adError':\n      if (_classPrivateFieldGet(this, _currentAdvertisementIsRewarded)) {\n        this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n      } else {\n        this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n      }\n      break;\n    case 'adDismissed':\n      if (_classPrivateFieldGet(this, _currentAdvertisementIsRewarded)) {\n        this._setRewardedState(isFailed ? _constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED : _constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n      } else {\n        this._setInterstitialState(isFailed ? _constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED : _constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n      }\n      break;\n    default:\n      break;\n  }\n}\nfunction _onGetLoginStatusCompleted2(data) {\n  if (data && data.status === 'ok') {\n    this._isPlayerAuthorized = data.loginStatus === 2 || data.loginStatus === 3;\n  }\n  if (this._isPlayerAuthorized) {\n    this._platformSdk.userProfile();\n  } else {\n    this._isInitialized = true;\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n  }\n}\nfunction _onGetUserProfileCompleted2(data) {\n  if (data.status === 'ok') {\n    this._playerId = data.uid;\n    this._playerName = data.nick;\n    this._playerPhotos = [data.avatar];\n  }\n  this._isInitialized = true;\n  this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n}\nfunction _onRegisterUserCompleted2(data) {\n  if (data.status === 'ok') {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n    this._platformSdk.reloadWindow();\n  } else {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER, data.errmsg);\n  }\n}\nfunction _onGetGameInventoryItemsCompleted2(data) {\n  if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n    this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG);\n    return;\n  }\n  this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG, data);\n}\nfunction _onPaymentReceived2(data) {\n  if (data && data.uid) {\n    this._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE, data.uid);\n    return;\n  }\n  this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VkPlayPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/VkPlayPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/WortalPlatformBridge.js":
/*!******************************************************!*\
  !*** ./src/platform-bridges/WortalPlatformBridge.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://storage.googleapis.com/cdn-wortal-ai/v2/wortal-core.js';\nvar _supportedApis = /*#__PURE__*/new WeakMap();\nvar _updatePlayerInfo = /*#__PURE__*/new WeakSet();\nvar WortalPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(WortalPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(WortalPlatformBridge);\n  function WortalPlatformBridge() {\n    var _this;\n    _classCallCheck(this, WortalPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _updatePlayerInfo);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _supportedApis, {\n      writable: true,\n      value: void 0\n    });\n    return _this;\n  }\n  _createClass(WortalPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_ID.WORTAL;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      if (this._platformSdk) {\n        var value = this._platformSdk.session.getLocale();\n        if (value) {\n          return value.toLowerCase().slice(0, 2);\n        }\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"platformLanguage\", this);\n    }\n\n    // device\n  }, {\n    key: \"deviceType\",\n    get: function get() {\n      var value = this._platformSdk.session.getDevice();\n      if (value) {\n        return value.toLowerCase();\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"deviceType\", this);\n    }\n\n    // social\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_2__.addJavaScript)(SDK_URL).then(function () {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_2__.waitFor)('Wortal', 'initializeAsync').then(function () {\n            window.Wortal.initializeAsync().then(function () {\n              _this2._platformSdk = window.Wortal;\n              _classPrivateFieldSet(_this2, _supportedApis, _this2._platformSdk.getSupportedAPIs());\n              _this2._isBannerSupported = _classPrivateFieldGet(_this2, _supportedApis).includes('ads.showBanner');\n              _this2._platformSdk.player.onLogin(_classPrivateMethodGet(_this2, _updatePlayerInfo, _updatePlayerInfo2));\n              _this2._isInitialized = true;\n              _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_1__.ACTION_NAME.INITIALIZE);\n            });\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // platform\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      switch (message) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.GAMEPLAY_STARTED:\n          {\n            this._platformSdk.session.gameplayStart();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.GAMEPLAY_STOPPED:\n          {\n            this._platformSdk.session.gameplayStop();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.GAME_READY:\n          {\n            this._platformSdk.setLoadingProgress(100);\n            this._platformSdk.startGameAsync();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_MESSAGE.PLAYER_GOT_ACHIEVEMENT:\n          {\n            this._platformSdk.session.happyTime();\n            return Promise.resolve();\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"sendMessage\", this).call(this, message);\n          }\n      }\n    }\n\n    // advertisement\n  }, {\n    key: \"showBanner\",\n    value: function showBanner(options) {\n      var position = 'bottom';\n      if (options) {\n        if (typeof options.position === 'string') {\n          position = options.position;\n        }\n      }\n      this._platformSdk.ads.showBanner(true, position);\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_1__.BANNER_STATE.SHOWN);\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      this._platformSdk.ads.showBanner(false);\n      this._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_1__.BANNER_STATE.HIDDEN);\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial(options) {\n      var _this3 = this;\n      var placement = 'next';\n      var description = 'NextLevel';\n      if (options) {\n        if (options.placement) {\n          placement = options.placement;\n        }\n        if (options.description) {\n          description = options.description;\n        }\n      }\n      this._platformSdk.ads.showInterstitial(placement, description, function () {\n        _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.OPENED);\n      }, function () {\n        _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.CLOSED);\n      }, function () {\n        _this3._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERSTITIAL_STATE.FAILED);\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded(options) {\n      var _this4 = this;\n      var description = 'Bonus';\n      if (options) {\n        if (options.description) {\n          description = options.description;\n        }\n      }\n      this._platformSdk.ads.showRewarded(description, function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.OPENED);\n      }, function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.CLOSED);\n      }, function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.CLOSED);\n      }, function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.REWARDED);\n      }, function () {\n        _this4._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_1__.REWARDED_STATE.FAILED);\n      });\n    }\n  }, {\n    key: \"checkAdBlock\",\n    value: function checkAdBlock() {\n      var _this5 = this;\n      return new Promise(function (resolve) {\n        resolve(_this5._platformSdk.ads.isAdBlocked());\n      });\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return _classPrivateFieldGet(this, _supportedApis).includes('player.setDataAsync');\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return _classPrivateFieldGet(this, _supportedApis).includes('player.setDataAsync');\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this6 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          var keys = Array.isArray(key) ? key : [key];\n          _this6._platformSdk.player.getDataAsync(keys).then(function (data) {\n            if (!_this6._platformStorageCachedData) {\n              _this6._platformStorageCachedData = {};\n            }\n            if (Array.isArray(key)) {\n              var values = [];\n              for (var i = 0; i < key.length; i++) {\n                var _value = typeof data[key[i]] === 'undefined' ? null : data[key[i]];\n                values.push(_value);\n                _this6._platformStorageCachedData[key[i]] = _value;\n              }\n              resolve(values);\n              return;\n            }\n            var value = typeof data[key] === 'undefined' ? null : data[key];\n            _this6._platformStorageCachedData[key] = value;\n            resolve(value);\n          })[\"catch\"](function (error) {\n            return reject(error);\n          });\n        });\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this7 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          var data = _this7._platformStorageCachedData !== null ? _objectSpread({}, _this7._platformStorageCachedData) : {};\n          if (Array.isArray(key)) {\n            for (var i = 0; i < key.length; i++) {\n              data[key[i]] = value[i];\n            }\n          } else {\n            data[key] = value;\n          }\n          _this7._platformSdk.player.setDataAsync(data).then(function () {\n            _this7._platformStorageCachedData = data;\n            resolve();\n          })[\"catch\"](function (error) {\n            return reject(error);\n          });\n        });\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this8 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          var data = _this8._platformStorageCachedData !== null ? _objectSpread({}, _this8._platformStorageCachedData) : {};\n          if (Array.isArray(key)) {\n            for (var i = 0; i < key.length; i++) {\n              delete data[key[i]];\n            }\n          } else {\n            delete data[key];\n          }\n          _this8._platformSdk.player.setDataAsync(data).then(function () {\n            _this8._platformStorageCachedData = data;\n            resolve();\n          })[\"catch\"](function (error) {\n            return reject(error);\n          });\n        });\n      }\n      return _get(_getPrototypeOf(WortalPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n  }]);\n  return WortalPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _updatePlayerInfo2() {\n  this._playerId = this._platformSdk.player.getId();\n  this._playerName = this._platformSdk.player.getName();\n  this._playerPhotos = [this._platformSdk.player.getPhoto()];\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WortalPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/WortalPlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/Y8PlatformBridge.js":
/*!**************************************************!*\
  !*** ./src/platform-bridges/Y8PlatformBridge.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = 'https://cdn.y8.com/api/sdk.js';\nvar USERDATA_KEY = 'userData';\nvar NOT_FOUND_ERROR = 'Key not found';\nvar _getUserDataFromStorage = /*#__PURE__*/new WeakSet();\nvar _updatePlayerInfo = /*#__PURE__*/new WeakSet();\nvar Y8PlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(Y8PlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(Y8PlatformBridge);\n  function Y8PlatformBridge() {\n    var _this;\n    _classCallCheck(this, Y8PlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _updatePlayerInfo);\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _getUserDataFromStorage);\n    return _this;\n  }\n  _createClass(Y8PlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.Y8;\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        if (!this._options || !this._options.gameId) {\n          this._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE, _constants__WEBPACK_IMPORTED_MODULE_2__.ERROR.Y8_GAME_ID_IS_UNDEFINED);\n        } else {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n            (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.waitFor)('ID').then(function () {\n              _this2._platformSdk = window.ID;\n              _this2._platformSdk.Event.subscribe('id.init', function () {\n                _this2._platformSdk.ads.init(_this2._options.gameId);\n                _this2._platformSdk.getLoginStatus(function (data) {\n                  _classPrivateMethodGet(_this2, _updatePlayerInfo, _updatePlayerInfo2).call(_this2, data);\n                  _this2._isInitialized = true;\n                  _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n                });\n              });\n              _this2._platformSdk.init({\n                appId: _this2._options.gameId\n              });\n            });\n          });\n        }\n      }\n      return promiseDecorator.promise;\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer() {\n      var _this3 = this;\n      if (this._isPlayerAuthorized) {\n        return Promise.resolve();\n      }\n      return new Promise(function (resolve, reject) {\n        _this3._platformSdk.login(function (response) {\n          _classPrivateMethodGet(_this3, _updatePlayerInfo, _updatePlayerInfo2).call(_this3, response);\n          if (response.status === 'ok') {\n            resolve();\n          } else {\n            reject();\n          }\n        });\n      });\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(Y8PlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(Y8PlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this4 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          _classPrivateMethodGet(_this4, _getUserDataFromStorage, _getUserDataFromStorage2).call(_this4).then(function (userData) {\n            var keys = Array.isArray(key) ? key : [key];\n            var data = keys.map(function (_key) {\n              var value = userData[_key];\n              return !tryParseJson && _typeof(value) === 'object' && value !== null ? JSON.stringify(value) : value !== null && value !== void 0 ? value : null;\n            });\n            resolve(data);\n          })[\"catch\"](reject);\n        });\n      }\n      return _get(_getPrototypeOf(Y8PlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this5 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          _classPrivateMethodGet(_this5, _getUserDataFromStorage, _getUserDataFromStorage2).call(_this5).then(function (userData) {\n            var newData = _objectSpread({}, userData);\n            if (Array.isArray(key)) {\n              for (var i = 0; i < key.length; i++) {\n                newData[key[i]] = value[i];\n              }\n            } else {\n              newData[key] = value;\n            }\n            _this5._platformSdk.api('user_data/submit', 'POST', {\n              key: USERDATA_KEY,\n              value: JSON.stringify(newData)\n            }, function (response) {\n              if (response.status === 'ok') {\n                resolve();\n              } else {\n                reject(response);\n              }\n            });\n          })[\"catch\"](reject);\n        });\n      }\n      return _get(_getPrototypeOf(Y8PlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this6 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          _classPrivateMethodGet(_this6, _getUserDataFromStorage, _getUserDataFromStorage2).call(_this6).then(function (userData) {\n            var newData = _objectSpread({}, userData);\n            if (Array.isArray(key)) {\n              for (var i = 0; i < key.length; i++) {\n                delete newData[key[i]];\n              }\n            } else {\n              delete newData[key];\n            }\n            _this6._platformSdk.api('user_data/submit', 'POST', {\n              key: USERDATA_KEY,\n              value: JSON.stringify(newData)\n            }, function (response) {\n              if (response.status === 'ok') {\n                resolve();\n              } else {\n                reject(response);\n              }\n            });\n          })[\"catch\"](reject);\n        });\n      }\n      return _get(_getPrototypeOf(Y8PlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this7 = this;\n      this._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n      this._platformSdk.ads.display(function () {\n        if (!_this7._platformSdk.ads.strategy) {\n          _this7._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n        } else {\n          _this7._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n        }\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this8 = this;\n      this._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n      this._platformSdk.ads.display(function () {\n        if (!_this8._platformSdk.ads.strategy) {\n          _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n        } else {\n          _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n          _this8._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n        }\n      });\n    }\n  }]);\n  return Y8PlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _getUserDataFromStorage2() {\n  var _this9 = this;\n  return new Promise(function (resolve, reject) {\n    _this9._platformSdk.api('user_data/retrieve', 'POST', {\n      key: USERDATA_KEY\n    }, function (response) {\n      if (response.error) {\n        if (response.error !== NOT_FOUND_ERROR) {\n          reject(response);\n        }\n      }\n      var userData = {};\n      try {\n        if (response.jsondata) {\n          userData = JSON.parse(response.jsondata);\n        }\n      } catch (e) {\n        // keep value string or null\n      }\n      resolve(userData);\n    });\n  });\n}\nfunction _updatePlayerInfo2(data) {\n  if (data.status === 'ok') {\n    this._isPlayerAuthorized = true;\n    this._defaultStorageType = _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL;\n    var _data$authResponse$de = data.authResponse.details,\n      pid = _data$authResponse$de.pid,\n      locale = _data$authResponse$de.locale,\n      nickname = _data$authResponse$de.nickname,\n      firstName = _data$authResponse$de.first_name,\n      lastName = _data$authResponse$de.last_name,\n      avatars = _data$authResponse$de.avatars;\n    if (pid) {\n      this._playerId = pid;\n    }\n    this._platformLanguage = locale;\n    this._playerName = [firstName, lastName].filter(function (x) {\n      return !!x;\n    }).join(' ') || nickname;\n    this._playerPhotos = [];\n    var photoSmall = avatars.thumb_url,\n      photoMedium = avatars.medium_url,\n      photoLarge = avatars.large_url;\n    if (photoSmall) {\n      this._playerPhotos.push(photoSmall);\n    }\n    if (photoMedium) {\n      this._playerPhotos.push(photoMedium);\n    }\n    if (photoLarge) {\n      this._playerPhotos.push(photoLarge);\n    }\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Y8PlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/Y8PlatformBridge.js?");

/***/ }),

/***/ "./src/platform-bridges/YandexPlatformBridge.js":
/*!******************************************************!*\
  !*** ./src/platform-bridges/YandexPlatformBridge.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlatformBridgeBase */ \"./src/platform-bridges/PlatformBridgeBase.js\");\n/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/utils */ \"./src/common/utils.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n/*\n * This file is part of Playgama Bridge.\n *\n * Playgama Bridge is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Playgama Bridge is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Playgama Bridge. If not, see <https://www.gnu.org/licenses/>.\n */\n\n\n\n\nvar SDK_URL = '/sdk.js';\nvar _isAddToHomeScreenSupported = /*#__PURE__*/new WeakMap();\nvar _yandexPlayer = /*#__PURE__*/new WeakMap();\nvar _leaderboards = /*#__PURE__*/new WeakMap();\nvar _payments = /*#__PURE__*/new WeakMap();\nvar _getPlayer = /*#__PURE__*/new WeakSet();\nvar YandexPlatformBridge = /*#__PURE__*/function (_PlatformBridgeBase) {\n  _inherits(YandexPlatformBridge, _PlatformBridgeBase);\n  var _super = _createSuper(YandexPlatformBridge);\n  function YandexPlatformBridge() {\n    var _this;\n    _classCallCheck(this, YandexPlatformBridge);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _classPrivateMethodInitSpec(_assertThisInitialized(_this), _getPlayer);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _isAddToHomeScreenSupported, {\n      writable: true,\n      value: false\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _yandexPlayer, {\n      writable: true,\n      value: null\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _leaderboards, {\n      writable: true,\n      value: null\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _payments, {\n      writable: true,\n      value: null\n    });\n    return _this;\n  }\n  _createClass(YandexPlatformBridge, [{\n    key: \"platformId\",\n    get:\n    // platform\n    function get() {\n      return _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID.YANDEX;\n    }\n  }, {\n    key: \"platformLanguage\",\n    get: function get() {\n      if (this._platformSdk) {\n        return this._platformSdk.environment.i18n.lang.toLowerCase();\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"platformLanguage\", this);\n    }\n  }, {\n    key: \"platformTld\",\n    get: function get() {\n      if (this._platformSdk) {\n        return this._platformSdk.environment.i18n.tld.toLowerCase();\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"platformTld\", this);\n    }\n\n    // device\n  }, {\n    key: \"deviceType\",\n    get: function get() {\n      switch (this._platformSdk && this._platformSdk.deviceInfo.type) {\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.DESKTOP:\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.DESKTOP;\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.MOBILE:\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.MOBILE;\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.TABLET:\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.TABLET;\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.TV:\n          {\n            return _constants__WEBPACK_IMPORTED_MODULE_2__.DEVICE_TYPE.TV;\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"deviceType\", this);\n          }\n      }\n    }\n\n    // player\n  }, {\n    key: \"isPlayerAuthorizationSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // social\n  }, {\n    key: \"isAddToHomeScreenSupported\",\n    get: function get() {\n      return _classPrivateFieldGet(this, _isAddToHomeScreenSupported);\n    }\n  }, {\n    key: \"isRateSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isExternalLinksAllowed\",\n    get: function get() {\n      return false;\n    }\n\n    // leaderboard\n  }, {\n    key: \"isLeaderboardSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isLeaderboardMultipleBoardsSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isLeaderboardSetScoreSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isLeaderboardGetScoreSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isLeaderboardGetEntriesSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // payments\n  }, {\n    key: \"isPaymentsSupported\",\n    get: function get() {\n      return true;\n    }\n\n    // config\n  }, {\n    key: \"isRemoteConfigSupported\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n      if (this._isInitialized) {\n        return Promise.resolve();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n        (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.addJavaScript)(SDK_URL).then(function () {\n          (0,_common_utils__WEBPACK_IMPORTED_MODULE_1__.waitFor)('YaGames', 'init').then(function () {\n            window.YaGames.init().then(function (sdk) {\n              var _this2$_platformSdk$f;\n              _this2._platformSdk = sdk;\n              var getPlayerPromise = _classPrivateMethodGet(_this2, _getPlayer, _getPlayer2).call(_this2);\n              var reportPluginEnginePromise = (_this2$_platformSdk$f = _this2._platformSdk.features.PluginEngineDataReporterAPI) === null || _this2$_platformSdk$f === void 0 ? void 0 : _this2$_platformSdk$f.report({\n                engineName: '',\n                engineVersion: '',\n                pluginName: \"playgama-bridge\",\n                pluginVersion: \"1.16.0\"\n              });\n              var checkAddToHomeScreenSupportedPromise = _this2._platformSdk.shortcut.canShowPrompt().then(function (prompt) {\n                _classPrivateFieldSet(_this2, _isAddToHomeScreenSupported, prompt.canShow);\n              });\n              var checkAddToHomeScreenSupportedTimeoutPromise = new Promise(function (resolve) {\n                setTimeout(resolve, 1000);\n              });\n              var checkAddToHomeScreenSupportedRacePromise = Promise.race([checkAddToHomeScreenSupportedPromise, checkAddToHomeScreenSupportedTimeoutPromise]);\n              var getLeaderboardsPromise = _this2._platformSdk.getLeaderboards().then(function (leaderboards) {\n                _classPrivateFieldSet(_this2, _leaderboards, leaderboards);\n              });\n              var getPaymentsPromise = _this2._platformSdk.getPayments().then(function (payments) {\n                _classPrivateFieldSet(_this2, _payments, payments);\n              });\n              _this2._isBannerSupported = true;\n              var getBannerStatePromise = _this2._platformSdk.adv.getBannerAdvStatus().then(function (data) {\n                if (data.stickyAdvIsShowing) {\n                  _this2._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.SHOWN);\n                }\n              });\n              Promise.all([getPlayerPromise, reportPluginEnginePromise, checkAddToHomeScreenSupportedRacePromise, getLeaderboardsPromise, getPaymentsPromise, getBannerStatePromise])[\"finally\"](function () {\n                _this2._isInitialized = true;\n                _this2._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.INITIALIZE);\n              });\n            });\n          });\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // platform\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      switch (message) {\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_MESSAGE.GAME_READY:\n          {\n            var _this$_platformSdk$fe;\n            (_this$_platformSdk$fe = this._platformSdk.features.LoadingAPI) === null || _this$_platformSdk$fe === void 0 || _this$_platformSdk$fe.ready();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_MESSAGE.GAMEPLAY_STARTED:\n          {\n            var _this$_platformSdk$fe2;\n            (_this$_platformSdk$fe2 = this._platformSdk.features.GameplayAPI) === null || _this$_platformSdk$fe2 === void 0 || _this$_platformSdk$fe2.start();\n            return Promise.resolve();\n          }\n        case _constants__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_MESSAGE.GAMEPLAY_STOPPED:\n          {\n            var _this$_platformSdk$fe3;\n            (_this$_platformSdk$fe3 = this._platformSdk.features.GameplayAPI) === null || _this$_platformSdk$fe3 === void 0 || _this$_platformSdk$fe3.stop();\n            return Promise.resolve();\n          }\n        default:\n          {\n            return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"sendMessage\", this).call(this, message);\n          }\n      }\n    }\n  }, {\n    key: \"getServerTime\",\n    value: function getServerTime() {\n      var _this3 = this;\n      return new Promise(function (resolve) {\n        var ts = _this3._platformSdk.serverTime();\n        resolve(ts);\n      });\n    }\n\n    // player\n  }, {\n    key: \"authorizePlayer\",\n    value: function authorizePlayer(options) {\n      var _this4 = this;\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n        if (this._isPlayerAuthorized) {\n          _classPrivateMethodGet(this, _getPlayer, _getPlayer2).call(this, options).then(function () {\n            _this4._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n          });\n        } else {\n          this._platformSdk.auth.openAuthDialog().then(function () {\n            _classPrivateMethodGet(_this4, _getPlayer, _getPlayer2).call(_this4, options).then(function () {\n              _this4._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER);\n            });\n          })[\"catch\"](function (error) {\n            _this4._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.AUTHORIZE_PLAYER, error);\n          });\n        }\n      }\n      return promiseDecorator.promise;\n    }\n\n    // storage\n  }, {\n    key: \"isStorageSupported\",\n    value: function isStorageSupported(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return true;\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"isStorageSupported\", this).call(this, storageType);\n    }\n  }, {\n    key: \"isStorageAvailable\",\n    value: function isStorageAvailable(storageType) {\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return this._isPlayerAuthorized;\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"isStorageAvailable\", this).call(this, storageType);\n    }\n  }, {\n    key: \"getDataFromStorage\",\n    value: function getDataFromStorage(key, storageType, tryParseJson) {\n      var _this5 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        if (!this._isPlayerAuthorized) {\n          return Promise.reject();\n        }\n        return new Promise(function (resolve, reject) {\n          if (_this5._platformStorageCachedData) {\n            if (Array.isArray(key)) {\n              var values = [];\n              for (var i = 0; i < key.length; i++) {\n                var value = typeof _this5._platformStorageCachedData[key[i]] === 'undefined' ? null : _this5._platformStorageCachedData[key[i]];\n                values.push(value);\n              }\n              resolve(values);\n              return;\n            }\n            resolve(typeof _this5._platformStorageCachedData[key] === 'undefined' ? null : _this5._platformStorageCachedData[key]);\n            return;\n          }\n          if (_classPrivateFieldGet(_this5, _yandexPlayer)) {\n            _classPrivateFieldGet(_this5, _yandexPlayer).getData().then(function (data) {\n              _this5._platformStorageCachedData = data;\n              if (Array.isArray(key)) {\n                var _values = [];\n                for (var _i = 0; _i < key.length; _i++) {\n                  var _value = typeof _this5._platformStorageCachedData[key[_i]] === 'undefined' ? null : _this5._platformStorageCachedData[key[_i]];\n                  _values.push(_value);\n                }\n                resolve(_values);\n                return;\n              }\n              resolve(typeof _this5._platformStorageCachedData[key] === 'undefined' ? null : _this5._platformStorageCachedData[key]);\n            })[\"catch\"](function (error) {\n              reject(error);\n            });\n          } else {\n            reject();\n          }\n        });\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"getDataFromStorage\", this).call(this, key, storageType, tryParseJson);\n    }\n  }, {\n    key: \"setDataToStorage\",\n    value: function setDataToStorage(key, value, storageType) {\n      var _this6 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          if (_classPrivateFieldGet(_this6, _yandexPlayer)) {\n            var data = _this6._platformStorageCachedData !== null ? _objectSpread({}, _this6._platformStorageCachedData) : {};\n            if (Array.isArray(key)) {\n              for (var i = 0; i < key.length; i++) {\n                data[key[i]] = value[i];\n              }\n            } else {\n              data[key] = value;\n            }\n            _classPrivateFieldGet(_this6, _yandexPlayer).setData(data).then(function () {\n              _this6._platformStorageCachedData = data;\n              resolve();\n            })[\"catch\"](function (error) {\n              reject(error);\n            });\n          } else {\n            reject();\n          }\n        });\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"setDataToStorage\", this).call(this, key, value, storageType);\n    }\n  }, {\n    key: \"deleteDataFromStorage\",\n    value: function deleteDataFromStorage(key, storageType) {\n      var _this7 = this;\n      if (storageType === _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL) {\n        return new Promise(function (resolve, reject) {\n          if (_classPrivateFieldGet(_this7, _yandexPlayer)) {\n            var data = _this7._platformStorageCachedData !== null ? _objectSpread({}, _this7._platformStorageCachedData) : {};\n            if (Array.isArray(key)) {\n              for (var i = 0; i < key.length; i++) {\n                delete data[key[i]];\n              }\n            } else {\n              delete data[key];\n            }\n            _classPrivateFieldGet(_this7, _yandexPlayer).setData(data).then(function () {\n              _this7._platformStorageCachedData = data;\n              resolve();\n            })[\"catch\"](function (error) {\n              reject(error);\n            });\n          } else {\n            reject();\n          }\n        });\n      }\n      return _get(_getPrototypeOf(YandexPlatformBridge.prototype), \"deleteDataFromStorage\", this).call(this, key, storageType);\n    }\n\n    // advertisement\n  }, {\n    key: \"showBanner\",\n    value: function showBanner() {\n      var _this8 = this;\n      this._platformSdk.adv.showBannerAdv().then(function (data) {\n        if (data.stickyAdvIsShowing) {\n          _this8._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.SHOWN);\n        } else {\n          _this8._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n        }\n      })[\"catch\"](function () {\n        _this8._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.FAILED);\n      });\n    }\n  }, {\n    key: \"hideBanner\",\n    value: function hideBanner() {\n      var _this9 = this;\n      this._platformSdk.adv.hideBannerAdv().then(function (data) {\n        if (!data.stickyAdvIsShowing) {\n          _this9._setBannerState(_constants__WEBPACK_IMPORTED_MODULE_2__.BANNER_STATE.HIDDEN);\n        }\n      });\n    }\n  }, {\n    key: \"showInterstitial\",\n    value: function showInterstitial() {\n      var _this10 = this;\n      this._platformSdk.adv.showFullscreenAdv({\n        callbacks: {\n          onOpen: function onOpen() {\n            _this10._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.OPENED);\n          },\n          onClose: function onClose(wasShown) {\n            if (wasShown) {\n              _this10._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.CLOSED);\n            } else {\n              _this10._setInterstitialState(_constants__WEBPACK_IMPORTED_MODULE_2__.INTERSTITIAL_STATE.FAILED);\n            }\n          },\n          onError: function onError(err) {\n            console.error(err);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"showRewarded\",\n    value: function showRewarded() {\n      var _this11 = this;\n      this._platformSdk.adv.showRewardedVideo({\n        callbacks: {\n          onOpen: function onOpen() {\n            _this11._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.OPENED);\n          },\n          onRewarded: function onRewarded() {\n            _this11._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.REWARDED);\n          },\n          onClose: function onClose() {\n            _this11._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.CLOSED);\n          },\n          onError: function onError() {\n            _this11._setRewardedState(_constants__WEBPACK_IMPORTED_MODULE_2__.REWARDED_STATE.FAILED);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"checkAdBlock\",\n    value: function checkAdBlock() {\n      return new Promise(function (resolve) {\n        // yandex shows ads even when adblock is on\n        resolve(false);\n      });\n    }\n\n    // social\n  }, {\n    key: \"addToHomeScreen\",\n    value: function addToHomeScreen() {\n      var _this12 = this;\n      if (!this.isAddToHomeScreenSupported) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_HOME_SCREEN);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_HOME_SCREEN);\n        this._platformSdk.shortcut.showPrompt().then(function (result) {\n          if (result.outcome === 'accepted') {\n            _this12._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_HOME_SCREEN);\n            return;\n          }\n          _this12._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_HOME_SCREEN);\n        })[\"catch\"](function (error) {\n          _this12._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.ADD_TO_HOME_SCREEN, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"rate\",\n    value: function rate() {\n      var _this13 = this;\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n        this._platformSdk.feedback.canReview().then(function (result) {\n          if (result.value) {\n            _this13._platformSdk.feedback.requestReview().then(function (_ref) {\n              var feedbackSent = _ref.feedbackSent;\n              if (feedbackSent) {\n                _this13._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n                return;\n              }\n              _this13._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE);\n            })[\"catch\"](function (error) {\n              _this13._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE, error);\n            });\n            return;\n          }\n          _this13._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE, result.reason);\n        })[\"catch\"](function (error) {\n          _this13._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.RATE, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // leaderboard\n  }, {\n    key: \"setLeaderboardScore\",\n    value: function setLeaderboardScore(options) {\n      var _this14 = this;\n      if (!this._isPlayerAuthorized) {\n        return Promise.reject();\n      }\n      if (!_classPrivateFieldGet(this, _leaderboards) || !options || !options.score || !options.leaderboardName) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.SET_LEADERBOARD_SCORE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.SET_LEADERBOARD_SCORE);\n        if (typeof options.score === 'string') {\n          // eslint-disable-next-line no-param-reassign\n          options.score = parseInt(options.score, 10);\n        }\n        _classPrivateFieldGet(this, _leaderboards).setLeaderboardScore(options.leaderboardName, options.score).then(function () {\n          _this14._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.SET_LEADERBOARD_SCORE);\n        })[\"catch\"](function (error) {\n          _this14._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.SET_LEADERBOARD_SCORE, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"getLeaderboardScore\",\n    value: function getLeaderboardScore(options) {\n      var _this15 = this;\n      if (!this._isPlayerAuthorized) {\n        return Promise.reject();\n      }\n      if (!_classPrivateFieldGet(this, _leaderboards) || !options || !options.leaderboardName) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_SCORE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_SCORE);\n        _classPrivateFieldGet(this, _leaderboards).getLeaderboardPlayerEntry(options.leaderboardName).then(function (result) {\n          _this15._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_SCORE, result.score);\n        })[\"catch\"](function (error) {\n          _this15._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_SCORE, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"getLeaderboardEntries\",\n    value: function getLeaderboardEntries(options) {\n      var _this16 = this;\n      if (!_classPrivateFieldGet(this, _leaderboards) || !options || !options.leaderboardName) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_ENTRIES);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_ENTRIES);\n        var parameters = {\n          includeUser: false,\n          quantityAround: 5,\n          quantityTop: 5\n        };\n        if (typeof options.includeUser === 'boolean') {\n          parameters.includeUser = options.includeUser;\n        }\n        if (typeof options.quantityAround === 'string') {\n          // eslint-disable-next-line no-param-reassign\n          options.quantityAround = parseInt(options.quantityAround, 10);\n        }\n        if (typeof options.quantityAround === 'number') {\n          parameters.quantityAround = options.quantityAround;\n        }\n        if (typeof options.quantityTop === 'string') {\n          // eslint-disable-next-line no-param-reassign\n          options.quantityTop = parseInt(options.quantityTop, 10);\n        }\n        if (typeof options.quantityTop === 'number') {\n          parameters.quantityTop = options.quantityTop;\n        }\n        _classPrivateFieldGet(this, _leaderboards).getLeaderboardEntries(options.leaderboardName, parameters).then(function (result) {\n          var entries = null;\n          if (result && result.entries.length > 0) {\n            entries = result.entries.map(function (e) {\n              return {\n                id: e.player.uniqueID,\n                score: e.score,\n                rank: e.rank,\n                name: e.player.publicName,\n                photo: e.player.getAvatarSrc('large')\n              };\n            });\n          }\n          _this16._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_ENTRIES, entries);\n        })[\"catch\"](function (error) {\n          _this16._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_LEADERBOARD_ENTRIES, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // payments\n  }, {\n    key: \"purchase\",\n    value: function purchase(options) {\n      var _this17 = this;\n      if (!_classPrivateFieldGet(this, _payments) || !options.id) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE);\n        _classPrivateFieldGet(this, _payments).purchase(options).then(function (result) {\n          _this17._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE, result);\n        })[\"catch\"](function (error) {\n          _this17._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.PURCHASE, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"getPaymentsPurchases\",\n    value: function getPaymentsPurchases() {\n      var _this18 = this;\n      if (!_classPrivateFieldGet(this, _payments)) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_PURCHASES);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_PURCHASES);\n        _classPrivateFieldGet(this, _payments).getPurchases().then(function (result) {\n          var purchases = result.map(function (i) {\n            return {\n              developerPayload: i.developerPayload,\n              productID: i.productID,\n              purchaseToken: i.purchaseToken\n            };\n          });\n          _this18._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_PURCHASES, purchases);\n        })[\"catch\"](function (error) {\n          _this18._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_PURCHASES, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"getPaymentsCatalog\",\n    value: function getPaymentsCatalog() {\n      var _this19 = this;\n      if (!_classPrivateFieldGet(this, _payments)) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG);\n        _classPrivateFieldGet(this, _payments).getCatalog().then(function (result) {\n          var catalog = result.map(function (i) {\n            return {\n              id: i.id,\n              description: i.description,\n              imageURI: i.imageURI,\n              price: i.price,\n              priceCurrencyCode: i.priceCurrencyCode,\n              priceValue: i.priceValue,\n              priceCurrencyImage: i.getPriceCurrencyImage('medium'),\n              title: i.title\n            };\n          });\n          _this19._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG, catalog);\n        })[\"catch\"](function (error) {\n          _this19._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_CATALOG, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }, {\n    key: \"consumePurchase\",\n    value: function consumePurchase(options) {\n      var _this20 = this;\n      if (!_classPrivateFieldGet(this, _payments) || !options.purchaseToken) {\n        return Promise.reject();\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CONSUME_PURCHASE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CONSUME_PURCHASE);\n        _classPrivateFieldGet(this, _payments).consumePurchase(options.purchaseToken).then(function (result) {\n          _this20._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CONSUME_PURCHASE, result);\n        })[\"catch\"](function (error) {\n          _this20._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CONSUME_PURCHASE, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // config\n  }, {\n    key: \"getRemoteConfig\",\n    value: function getRemoteConfig(options) {\n      var _this21 = this;\n      if (!this._platformSdk) {\n        return Promise.reject();\n      }\n      var remoteConfigOptions = options;\n      if (!remoteConfigOptions) {\n        remoteConfigOptions = {};\n      }\n      if (!remoteConfigOptions.clientFeatures) {\n        remoteConfigOptions.clientFeatures = [];\n      }\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_REMOTE_CONFIG);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_REMOTE_CONFIG);\n        this._platformSdk.getFlags(remoteConfigOptions).then(function (result) {\n          _this21._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_REMOTE_CONFIG, result);\n        })[\"catch\"](function (error) {\n          _this21._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.GET_REMOTE_CONFIG, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n\n    // clipboard\n  }, {\n    key: \"clipboardWrite\",\n    value: function clipboardWrite(text) {\n      var _this22 = this;\n      var promiseDecorator = this._getPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_WRITE);\n      if (!promiseDecorator) {\n        promiseDecorator = this._createPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_WRITE);\n        this._platformSdk.clipboard.writeText(text).then(function () {\n          _this22._resolvePromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_WRITE, true);\n        })[\"catch\"](function (error) {\n          _this22._rejectPromiseDecorator(_constants__WEBPACK_IMPORTED_MODULE_2__.ACTION_NAME.CLIPBOARD_WRITE, error);\n        });\n      }\n      return promiseDecorator.promise;\n    }\n  }]);\n  return YandexPlatformBridge;\n}(_PlatformBridgeBase__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nfunction _getPlayer2(options) {\n  var _this23 = this;\n  return new Promise(function (resolve) {\n    var parameters = {\n      scopes: false\n    };\n    if (options && typeof options.scopes === 'boolean') {\n      parameters.scopes = options.scopes;\n    }\n    _this23._platformSdk.getPlayer(parameters).then(function (player) {\n      _this23._playerId = player.getUniqueID();\n      _this23._isPlayerAuthorized = player.getMode() !== 'lite';\n      _this23._defaultStorageType = _this23._isPlayerAuthorized ? _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.PLATFORM_INTERNAL : _constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_TYPE.LOCAL_STORAGE;\n      var name = player.getName();\n      if (name !== '') {\n        _this23._playerName = name;\n      }\n      _this23._playerPhotos = [];\n      var photoSmall = player.getPhoto('small');\n      var photoMedium = player.getPhoto('medium');\n      var photoLarge = player.getPhoto('large');\n      if (photoSmall) {\n        _this23._playerPhotos.push(photoSmall);\n      }\n      if (photoMedium) {\n        _this23._playerPhotos.push(photoMedium);\n      }\n      if (photoLarge) {\n        _this23._playerPhotos.push(photoLarge);\n      }\n      _classPrivateFieldSet(_this23, _yandexPlayer, player);\n    })[\"finally\"](function () {\n      resolve();\n    });\n  });\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (YandexPlatformBridge);\n\n//# sourceURL=webpack://playgama-bridge/./src/platform-bridges/YandexPlatformBridge.js?");

/***/ }),

/***/ "./node_modules/event-lite/event-lite.js":
/*!***********************************************!*\
  !*** ./node_modules/event-lite/event-lite.js ***!
  \***********************************************/
/***/ ((module) => {

eval("/**\n * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)\n *\n * @copyright Yusuke Kawasaki\n * @license MIT\n * @constructor\n * @see https://github.com/kawanet/event-lite\n * @see http://kawanet.github.io/event-lite/EventLite.html\n * @example\n * var EventLite = require(\"event-lite\");\n *\n * function MyClass() {...}             // your class\n *\n * EventLite.mixin(MyClass.prototype);  // import event methods\n *\n * var obj = new MyClass();\n * obj.on(\"foo\", function() {...});     // add event listener\n * obj.once(\"bar\", function() {...});   // add one-time event listener\n * obj.emit(\"foo\");                     // dispatch event\n * obj.emit(\"bar\");                     // dispatch another event\n * obj.off(\"foo\");                      // remove event listener\n */\n\nfunction EventLite() {\n  if (!(this instanceof EventLite)) return new EventLite();\n}\n\n(function(EventLite) {\n  // export the class for node.js\n  if (true) module.exports = EventLite;\n\n  // property name to hold listeners\n  var LISTENERS = \"listeners\";\n\n  // methods to export\n  var methods = {\n    on: on,\n    once: once,\n    off: off,\n    emit: emit\n  };\n\n  // mixin to self\n  mixin(EventLite.prototype);\n\n  // export mixin function\n  EventLite.mixin = mixin;\n\n  /**\n   * Import on(), once(), off() and emit() methods into target object.\n   *\n   * @function EventLite.mixin\n   * @param target {Prototype}\n   */\n\n  function mixin(target) {\n    for (var key in methods) {\n      target[key] = methods[key];\n    }\n    return target;\n  }\n\n  /**\n   * Add an event listener.\n   *\n   * @function EventLite.prototype.on\n   * @param type {string}\n   * @param func {Function}\n   * @returns {EventLite} Self for method chaining\n   */\n\n  function on(type, func) {\n    getListeners(this, type).push(func);\n    return this;\n  }\n\n  /**\n   * Add one-time event listener.\n   *\n   * @function EventLite.prototype.once\n   * @param type {string}\n   * @param func {Function}\n   * @returns {EventLite} Self for method chaining\n   */\n\n  function once(type, func) {\n    var that = this;\n    wrap.originalListener = func;\n    getListeners(that, type).push(wrap);\n    return that;\n\n    function wrap() {\n      off.call(that, type, wrap);\n      func.apply(this, arguments);\n    }\n  }\n\n  /**\n   * Remove an event listener.\n   *\n   * @function EventLite.prototype.off\n   * @param [type] {string}\n   * @param [func] {Function}\n   * @returns {EventLite} Self for method chaining\n   */\n\n  function off(type, func) {\n    var that = this;\n    var listners;\n    if (!arguments.length) {\n      delete that[LISTENERS];\n    } else if (!func) {\n      listners = that[LISTENERS];\n      if (listners) {\n        delete listners[type];\n        if (!Object.keys(listners).length) return off.call(that);\n      }\n    } else {\n      listners = getListeners(that, type, true);\n      if (listners) {\n        listners = listners.filter(ne);\n        if (!listners.length) return off.call(that, type);\n        that[LISTENERS][type] = listners;\n      }\n    }\n    return that;\n\n    function ne(test) {\n      return test !== func && test.originalListener !== func;\n    }\n  }\n\n  /**\n   * Dispatch (trigger) an event.\n   *\n   * @function EventLite.prototype.emit\n   * @param type {string}\n   * @param [value] {*}\n   * @returns {boolean} True when a listener received the event\n   */\n\n  function emit(type, value) {\n    var that = this;\n    var listeners = getListeners(that, type, true);\n    if (!listeners) return false;\n    var arglen = arguments.length;\n    if (arglen === 1) {\n      listeners.forEach(zeroarg);\n    } else if (arglen === 2) {\n      listeners.forEach(onearg);\n    } else {\n      var args = Array.prototype.slice.call(arguments, 1);\n      listeners.forEach(moreargs);\n    }\n    return !!listeners.length;\n\n    function zeroarg(func) {\n      func.call(that);\n    }\n\n    function onearg(func) {\n      func.call(that, value);\n    }\n\n    function moreargs(func) {\n      func.apply(that, args);\n    }\n  }\n\n  /**\n   * @ignore\n   */\n\n  function getListeners(that, type, readonly) {\n    if (readonly && !that[LISTENERS]) return;\n    var listeners = that[LISTENERS] || (that[LISTENERS] = {});\n    return listeners[type] || (listeners[type] = []);\n  }\n\n})(EventLite);\n\n\n//# sourceURL=webpack://playgama-bridge/./node_modules/event-lite/event-lite.js?");

/***/ }),

/***/ "./node_modules/jwt-decode/build/esm/index.js":
/*!****************************************************!*\
  !*** ./node_modules/jwt-decode/build/esm/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidTokenError: () => (/* binding */ InvalidTokenError),\n/* harmony export */   jwtDecode: () => (/* binding */ jwtDecode)\n/* harmony export */ });\nclass InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nfunction jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n\n\n//# sourceURL=webpack://playgama-bridge/./node_modules/jwt-decode/build/esm/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;